<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Network Matrices · PowerSystems.jl</title><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.png" alt="PowerSystems.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">PowerSystems.jl</a></span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Welcome Page</a></li><li><a class="tocitem" href="../../quick_start_guide/">Quick Start Guide</a></li><li><a class="tocitem" href="../../tutorials/intro_page/">Tutorials</a></li><li><span class="tocitem">Modeler Guide</span><ul><li><a class="tocitem" href="../type_structure/">Type Structure</a></li><li><a class="tocitem" href="../system/">System</a></li><li><a class="tocitem" href="../time_series/">Time Series Data</a></li><li><a class="tocitem" href="../example_dynamic_data/">Dynamic Devices</a></li><li><a class="tocitem" href="../system_dynamic_data/">Creating a System with Dynamic devices</a></li><li><a class="tocitem" href="../market_bid_cost/">PowerSystems <code>MarketBidCost</code></a></li><li><a class="tocitem" href="../generated_modeling_with_JuMP/">Modeling With Jump</a></li><li class="is-active"><a class="tocitem" href>Network Matrices</a><ul class="internal"><li><a class="tocitem" href="#Overview"><span>Overview</span></a></li><li><a class="tocitem" href="#Ybus"><span>Ybus</span></a></li><li><a class="tocitem" href="#PTDF"><span>PTDF</span></a></li><li><a class="tocitem" href="#LODF"><span>LODF</span></a></li></ul></li><li><a class="tocitem" href="../generated_parsing/">Parsing</a></li><li><a class="tocitem" href="../generated_power_flow/">Power Flow</a></li></ul></li><li><span class="tocitem">Model Developer Guide</span><ul><li><a class="tocitem" href="../../model_developer_guide/extending_parsing/">Extending Parsing</a></li><li><a class="tocitem" href="../../model_developer_guide/adding_custom_types/">Adding Types</a></li><li><a class="tocitem" href="../../model_developer_guide/generated_adding_additional_fields/">Adding Additional Fields</a></li></ul></li><li><span class="tocitem">Code Base Developer Guide</span><ul><li><a class="tocitem" href="../../code_base_developer_guide/developer/">Developer Guide</a></li><li><a class="tocitem" href="../../code_base_developer_guide/adding_new_types/">Adding New Types</a></li><li><a class="tocitem" href="../../code_base_developer_guide/troubleshooting/">Troubleshooting</a></li></ul></li><li><span class="tocitem">Model Library</span><ul><li><input class="collapse-toggle" id="menuitem-7-1" type="checkbox"/><label class="tocitem" for="menuitem-7-1"><span class="docs-label">DeviceParameter</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../model_library/generated_MarketBidCost/">MarketBidCost</a></li><li><a class="tocitem" href="../../model_library/generated_MultiStartCost/">MultiStartCost</a></li><li><a class="tocitem" href="../../model_library/generated_StorageManagementCost/">StorageManagementCost</a></li><li><a class="tocitem" href="../../model_library/generated_ThreePartCost/">ThreePartCost</a></li><li><a class="tocitem" href="../../model_library/generated_TwoPartCost/">TwoPartCost</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-7-2" type="checkbox"/><label class="tocitem" for="menuitem-7-2"><span class="docs-label">DynamicInverterComponent</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../model_library/generated_Converter/">Converter</a></li><li><a class="tocitem" href="../../model_library/generated_DCSource/">DCSource</a></li><li><a class="tocitem" href="../../model_library/generated_Filter/">Filter</a></li><li><a class="tocitem" href="../../model_library/generated_FrequencyEstimator/">FrequencyEstimator</a></li><li><a class="tocitem" href="../../model_library/generated_InnerControl/">InnerControl</a></li><li><a class="tocitem" href="../../model_library/outer_control/">OuterControl</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-7-3" type="checkbox"/><label class="tocitem" for="menuitem-7-3"><span class="docs-label">StaticInjection</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../model_library/generated_InterruptibleLoad/">InterruptibleLoad</a></li><li><a class="tocitem" href="../../model_library/generated_FixedAdmittance/">FixedAdmittance</a></li><li><a class="tocitem" href="../../model_library/generated_PowerLoad/">PowerLoad</a></li><li><a class="tocitem" href="../../model_library/generated_HydroDispatch/">HydroDispatch</a></li><li><a class="tocitem" href="../../model_library/generated_HydroEnergyReservoir/">HydroEnergyReservoir</a></li><li><a class="tocitem" href="../../model_library/generated_HydroPumpedStorage/">HydroPumpedStorage</a></li><li><a class="tocitem" href="../../model_library/generated_RenewableDispatch/">RenewableDispatch</a></li><li><a class="tocitem" href="../../model_library/generated_RenewableFix/">RenewableFix</a></li><li><a class="tocitem" href="../../model_library/generated_ThermalMultiStart/">ThermalMultiStart</a></li><li><a class="tocitem" href="../../model_library/generated_ThermalStandard/">ThermalStandard</a></li><li><a class="tocitem" href="../../model_library/generated_Source/">Source</a></li><li><a class="tocitem" href="../../model_library/generated_HybridSystem/">HybridSystem</a></li><li><a class="tocitem" href="../../model_library/generated_BatteryEMS/">BatteryEMS</a></li><li><a class="tocitem" href="../../model_library/generated_GenericBattery/">GenericBattery</a></li><li><a class="tocitem" href="../../model_library/hybrid_device/">HybridSystem</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-7-4" type="checkbox"/><label class="tocitem" for="menuitem-7-4"><span class="docs-label">Topology</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../model_library/generated_Area/">Area</a></li><li><a class="tocitem" href="../../model_library/generated_LoadZone/">LoadZone</a></li><li><a class="tocitem" href="../../model_library/generated_Arc/">Arc</a></li><li><a class="tocitem" href="../../model_library/generated_Bus/">Bus</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-7-5" type="checkbox"/><label class="tocitem" for="menuitem-7-5"><span class="docs-label">DynamicInjection</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../model_library/dynamic_inverter/">Dynamic Inverter</a></li><li><a class="tocitem" href="../../model_library/dynamic_generator/">Dynamic Generator</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-7-6" type="checkbox"/><label class="tocitem" for="menuitem-7-6"><span class="docs-label">Service</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../model_library/generated_AGC/">AGC</a></li><li><a class="tocitem" href="../../model_library/generated_StaticReserveNonSpinning/">StaticReserveNonSpinning</a></li><li><a class="tocitem" href="../../model_library/generated_VariableReserveNonSpinning/">VariableReserveNonSpinning</a></li><li><a class="tocitem" href="../../model_library/generated_Transfer/">Transfer</a></li><li><a class="tocitem" href="../../model_library/reserves/">Reserves</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-7-7" type="checkbox"/><label class="tocitem" for="menuitem-7-7"><span class="docs-label">Branch</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../model_library/generated_Line/">Line</a></li><li><a class="tocitem" href="../../model_library/generated_MonitoredLine/">MonitoredLine</a></li><li><a class="tocitem" href="../../model_library/generated_PhaseShiftingTransformer/">PhaseShiftingTransformer</a></li><li><a class="tocitem" href="../../model_library/generated_TapTransformer/">TapTransformer</a></li><li><a class="tocitem" href="../../model_library/generated_Transformer2W/">Transformer2W</a></li><li><a class="tocitem" href="../../model_library/generated_HVDCLine/">HVDCLine</a></li><li><a class="tocitem" href="../../model_library/generated_VSCDCLine/">VSCDCLine</a></li><li><a class="tocitem" href="../../model_library/dynamic_branch/">Dynamic Lines</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-7-8" type="checkbox"/><label class="tocitem" for="menuitem-7-8"><span class="docs-label">DynamicGeneratorComponent</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../model_library/generated_AVR/">AVR</a></li><li><a class="tocitem" href="../../model_library/generated_Machine/">Machine</a></li><li><a class="tocitem" href="../../model_library/generated_PSS/">PSS</a></li><li><a class="tocitem" href="../../model_library/generated_Shaft/">Shaft</a></li><li><a class="tocitem" href="../../model_library/generated_TurbineGov/">TurbineGov</a></li></ul></li></ul></li><li><a class="tocitem" href="../../api/public/">Public API Reference</a></li><li><a class="tocitem" href="../../api/internal/">Internal API Reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Modeler Guide</a></li><li class="is-active"><a href>Network Matrices</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Network Matrices</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/NREL-SIIP/PowerSystems.jl/blob/master/docs/src/modeler_guide/network_matrices.jl" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Network-Matrices"><a class="docs-heading-anchor" href="#Network-Matrices">Network Matrices</a><a id="Network-Matrices-1"></a><a class="docs-heading-anchor-permalink" href="#Network-Matrices" title="Permalink"></a></h1><p><code>PowerSystems.jl</code> is able to build classic power systems modeling network matrices such as <a href="https://en.wikipedia.org/wiki/Nodal_admittance_matrix">Ybus</a>, <a href="https://www.powerworld.com/WebHelp/Content/MainDocumentation_HTML/Power_Transfer_Distribution_Factors.htm">PTDF</a> and LODF.</p><p>Check section <a href="../../api/public/#net_mat">Network Matrices</a> for more details.</p><h2 id="Overview"><a class="docs-heading-anchor" href="#Overview">Overview</a><a id="Overview-1"></a><a class="docs-heading-anchor-permalink" href="#Overview" title="Permalink"></a></h2><p>Network matrices are implemented in <code>PowerSystems.jl</code> as arrays that enable using Branch or Bus names as indexes to facilitate exploration and analysis. Ybus is stored as an SparseMatrix and the PTDF and LODF are stored as dense matrices. **Note*** Ybus is converted to a dense matrix for printing in the REPL, The network matrices code implements the Goderya algorithm to find islands.</p><pre><code class="language-julia hljs">using PowerSystems
const PSY = PowerSystems
system_data = System(joinpath(DATA_DIR, &quot;matpower/case14.m&quot;))</code></pre><!DOCTYPE html>
<html>
<meta charset="UTF-8">
<style>
  table, td, th {
      border-collapse: collapse;
      font-family: sans-serif;
  }

  td, th {
      border-bottom: 0;
      padding: 4px
  }

  tr:nth-child(odd) {
      background: #eee;
  }

  tr:nth-child(even) {
      background: #fff;
  }

  tr.header {
      background: navy !important;
      color: white;
      font-weight: bold;
  }

  tr.subheader {
      background: lightgray !important;
      color: black;
  }

  tr.headerLastRow {
      border-bottom: 2px solid black;
  }

  th.rowNumber, td.rowNumber {
      text-align: right;
  }

</style>
<body>
<table>
  <caption style = "text-align: left;">System</caption>
  <thead>
    <tr class = "header headerLastRow">
      <th style = "text-align: left;">Property</th>
      <th style = "text-align: left;">Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style = "text-align: left;">System Units Base</td>
      <td style = "text-align: left;">SYSTEM_BASE</td>
    </tr>
    <tr>
      <td style = "text-align: left;">Base Power</td>
      <td style = "text-align: left;">100.0</td>
    </tr>
    <tr>
      <td style = "text-align: left;">Base Frequency</td>
      <td style = "text-align: left;">60.0</td>
    </tr>
    <tr>
      <td style = "text-align: left;">Num Components</td>
      <td style = "text-align: left;">73</td>
    </tr>
  </tbody>
</table>
</body>
</html>

<!DOCTYPE html>
<html>
<meta charset="UTF-8">
<style>
  table, td, th {
      border-collapse: collapse;
      font-family: sans-serif;
  }

  td, th {
      border-bottom: 0;
      padding: 4px
  }

  tr:nth-child(odd) {
      background: #eee;
  }

  tr:nth-child(even) {
      background: #fff;
  }

  tr.header {
      background: navy !important;
      color: white;
      font-weight: bold;
  }

  tr.subheader {
      background: lightgray !important;
      color: black;
  }

  tr.headerLastRow {
      border-bottom: 2px solid black;
  }

  th.rowNumber, td.rowNumber {
      text-align: right;
  }

</style>
<body>
<table>
  <caption style = "text-align: left;">Static Components</caption>
  <thead>
    <tr class = "header headerLastRow">
      <th style = "text-align: left;">Type</th>
      <th style = "text-align: left;">Count</th>
      <th style = "text-align: left;">Has Static Time Series</th>
      <th style = "text-align: left;">Has Forecasts</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style = "text-align: left;">Arc</td>
      <td style = "text-align: left;">20</td>
      <td style = "text-align: left;">false</td>
      <td style = "text-align: left;">false</td>
    </tr>
    <tr>
      <td style = "text-align: left;">Area</td>
      <td style = "text-align: left;">1</td>
      <td style = "text-align: left;">false</td>
      <td style = "text-align: left;">false</td>
    </tr>
    <tr>
      <td style = "text-align: left;">Bus</td>
      <td style = "text-align: left;">14</td>
      <td style = "text-align: left;">false</td>
      <td style = "text-align: left;">false</td>
    </tr>
    <tr>
      <td style = "text-align: left;">FixedAdmittance</td>
      <td style = "text-align: left;">1</td>
      <td style = "text-align: left;">false</td>
      <td style = "text-align: left;">false</td>
    </tr>
    <tr>
      <td style = "text-align: left;">Line</td>
      <td style = "text-align: left;">17</td>
      <td style = "text-align: left;">false</td>
      <td style = "text-align: left;">false</td>
    </tr>
    <tr>
      <td style = "text-align: left;">LoadZone</td>
      <td style = "text-align: left;">1</td>
      <td style = "text-align: left;">false</td>
      <td style = "text-align: left;">false</td>
    </tr>
    <tr>
      <td style = "text-align: left;">PowerLoad</td>
      <td style = "text-align: left;">11</td>
      <td style = "text-align: left;">false</td>
      <td style = "text-align: left;">false</td>
    </tr>
    <tr>
      <td style = "text-align: left;">TapTransformer</td>
      <td style = "text-align: left;">3</td>
      <td style = "text-align: left;">false</td>
      <td style = "text-align: left;">false</td>
    </tr>
    <tr>
      <td style = "text-align: left;">ThermalStandard</td>
      <td style = "text-align: left;">5</td>
      <td style = "text-align: left;">false</td>
      <td style = "text-align: left;">false</td>
    </tr>
  </tbody>
</table>
</body>
</html>

<h2 id="Ybus"><a class="docs-heading-anchor" href="#Ybus">Ybus</a><a id="Ybus-1"></a><a class="docs-heading-anchor-permalink" href="#Ybus" title="Permalink"></a></h2><p>The ybus can be calculated as follows:</p><pre><code class="language-julia hljs">ybus = Ybus(system_data)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">PowerNetworkMatrix
:
  6.02503-19.4471im  -4.99913+15.2631im  …           ⋅    
 -4.99913+15.2631im   9.52132-30.2721im              ⋅    
          ⋅          -1.13502+4.78186im              ⋅    
          ⋅          -1.68603+5.11584im              ⋅    
  -1.0259+4.23498im  -1.70114+5.19393im              ⋅    
          ⋅                   ⋅          …           ⋅    
          ⋅                   ⋅                      ⋅    
          ⋅                   ⋅                      ⋅    
          ⋅                   ⋅             -1.42401+3.02905im
          ⋅                   ⋅                      ⋅    
          ⋅                   ⋅          …           ⋅    
          ⋅                   ⋅                      ⋅    
          ⋅                   ⋅             -1.13699+2.31496im
          ⋅                   ⋅                2.561-5.34401im</code></pre><p>The matrix can be indexed using directly the bus numbers. In this example buses are numbered 1-14. However, in large systems buses don&#39;t usually follow sequential numbering. You can access the entries of the Ybus with direct indexing or using the buses.</p><pre><code class="language-julia hljs">ybus_entry = ybus[3,3]</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">3.1209949022329564 - 9.82238012935164im</code></pre><pre><code class="language-julia hljs">bus3 = get_component(Bus, system_data, &quot;Bus 3     HV&quot;)
ybus_entry = ybus[bus3, bus3]</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">3.1209949022329564 - 9.82238012935164im</code></pre><p>We recognize that many models require matrix operations. For those cases, you can access the sparse data as follows:</p><pre><code class="language-julia hljs">sparse_array = get_data(ybus)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">14×14 SparseArrays.SparseMatrixCSC{ComplexF64, Int64} with 54 stored entries:
  6.02503-19.4471im  -4.99913+15.2631im  …           ⋅    
 -4.99913+15.2631im   9.52132-30.2721im              ⋅    
          ⋅          -1.13502+4.78186im              ⋅    
          ⋅          -1.68603+5.11584im              ⋅    
  -1.0259+4.23498im  -1.70114+5.19393im              ⋅    
          ⋅                   ⋅          …           ⋅    
          ⋅                   ⋅                      ⋅    
          ⋅                   ⋅                      ⋅    
          ⋅                   ⋅             -1.42401+3.02905im
          ⋅                   ⋅                      ⋅    
          ⋅                   ⋅          …           ⋅    
          ⋅                   ⋅                      ⋅    
          ⋅                   ⋅             -1.13699+2.31496im
          ⋅                   ⋅                2.561-5.34401im</code></pre><h2 id="PTDF"><a class="docs-heading-anchor" href="#PTDF">PTDF</a><a id="PTDF-1"></a><a class="docs-heading-anchor-permalink" href="#PTDF" title="Permalink"></a></h2><p>The PTDF matrix can be calculated as follows:</p><pre><code class="language-julia hljs">ptdf = PTDF(system_data)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">PowerNetworkMatrix
:
 0.0  -0.838019     -0.746512     -0.667457     …  -0.632327     -0.643266
 0.0  -0.161981     -0.253488     -0.332543        -0.367673     -0.356734
 0.0   0.0273499    -0.532008     -0.151329        -0.121535     -0.130812
 0.0   0.0572376    -0.143381     -0.316698        -0.254346     -0.273762
 0.0   0.0773939    -0.0711234    -0.19943         -0.256446     -0.238693
 0.0   0.0273499     0.467992     -0.151329     …  -0.121535     -0.130812
 0.0   0.0799125     0.306671      0.502572         0.00606475    0.160669
 0.0   0.0029521     0.0113289     0.0185658       -0.241187     -0.356933
 0.0   0.00172287    0.00661167    0.0108352       -0.140759     -0.20831
 0.0  -0.00467497   -0.0179406    -0.029401        -0.618054     -0.434757
 0.0  -0.00281516   -0.0108034    -0.0177046    …   0.145234     -0.035575
 0.0  -0.000413472  -0.00158673   -0.00260034      -0.169694     -0.0887458
 0.0  -0.00144634   -0.00555046   -0.00909609      -0.593595     -0.310436
 0.0  -8.07681e-18   4.47108e-18   1.98155e-17     -2.43598e-17   3.21591e-17
 0.0   0.0029521     0.0113289     0.0185658       -0.241187     -0.356933
 0.0   0.00281516    0.0108034     0.0177046    …  -0.145234      0.035575
 0.0   0.00185981    0.00713719    0.0116964       -0.236711     -0.600818
 0.0   0.00281516    0.0108034     0.0177046       -0.145234      0.035575
 0.0  -0.000413472  -0.00158673   -0.00260034      -0.169694     -0.0887458
 0.0  -0.00185981   -0.00713719   -0.0116964        0.236711     -0.399182</code></pre><p>The entries of the matrix can also be indexed using the devices directly:</p><pre><code class="language-julia hljs">line = get_component(Line, system_data, &quot;Bus 1     HV-Bus 2     HV-i_1&quot;)
bus = get_component(Bus, system_data, &quot;Bus 3     HV&quot;)

ptdf_entry = ptdf[line, bus]</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">-0.7465116864925995</code></pre><p>Alternatively, the branch name and bus number can be used. For instance, for the same PTDF entry we can do:</p><pre><code class="language-julia hljs">ptdf_entry = ptdf[&quot;Bus 1     HV-Bus 2     HV-i_1&quot;, 3]</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">-0.7465116864925995</code></pre><p>PTDF also takes a vector of distributed slacks, for now this feature requires passing a vector of weights with the same number of elements are buses in the system. For more details check the API entry for <a href="../../api/public/#PowerSystems.PTDF"><code>PTDF</code></a>.</p><p>In the same fashion as in the case of the Ybus, we recognize many models use matrix operations when using the PTDF matrix. The raw data is available using <code>get_data</code> and the lookup table between (names,numbers) and (i,j) matrix entries is available using <a href="../../api/public/#PowerSystems.get_lookup-Tuple{PowerSystems.PowerNetworkMatrix}"><code>get_lookup</code></a></p><pre><code class="language-julia hljs">branch_lookup, bus_lookup = get_lookup(ptdf);</code></pre><p>Branch lookup:</p><pre><code class="language-julia hljs">branch_lookup</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Dict{String, Int64} with 20 entries:
  &quot;Bus 9     LV-Bus 14    LV-i_17&quot; =&gt; 17
  &quot;Bus 6     LV-Bus 12    LV-i_12&quot; =&gt; 12
  &quot;Bus 2     HV-Bus 4     HV-i_4&quot;  =&gt; 4
  &quot;Bus 7     ZV-Bus 9     LV-i_15&quot; =&gt; 15
  &quot;Bus 7     ZV-Bus 8     TV-i_14&quot; =&gt; 14
  &quot;Bus 1     HV-Bus 2     HV-i_1&quot;  =&gt; 1
  &quot;Bus 9     LV-Bus 10    LV-i_16&quot; =&gt; 16
  &quot;Bus 4     HV-Bus 9     LV-i_9&quot;  =&gt; 9
  &quot;Bus 4     HV-Bus 7     ZV-i_8&quot;  =&gt; 8
  &quot;Bus 6     LV-Bus 13    LV-i_13&quot; =&gt; 13
  &quot;Bus 6     LV-Bus 11    LV-i_11&quot; =&gt; 11
  &quot;Bus 1     HV-Bus 5     HV-i_2&quot;  =&gt; 2
  &quot;Bus 10    LV-Bus 11    LV-i_18&quot; =&gt; 18
  &quot;Bus 2     HV-Bus 5     HV-i_5&quot;  =&gt; 5
  &quot;Bus 5     HV-Bus 6     LV-i_10&quot; =&gt; 10
  &quot;Bus 3     HV-Bus 4     HV-i_6&quot;  =&gt; 6
  &quot;Bus 2     HV-Bus 3     HV-i_3&quot;  =&gt; 3
  &quot;Bus 4     HV-Bus 5     HV-i_7&quot;  =&gt; 7
  &quot;Bus 12    LV-Bus 13    LV-i_19&quot; =&gt; 19
  &quot;Bus 13    LV-Bus 14    LV-i_20&quot; =&gt; 20</code></pre><p>Bus Look up</p><pre><code class="language-julia hljs">bus_lookup</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Dict{Int64, Int64} with 14 entries:
  5  =&gt; 5
  12 =&gt; 12
  8  =&gt; 8
  1  =&gt; 1
  6  =&gt; 6
  11 =&gt; 11
  9  =&gt; 9
  14 =&gt; 14
  3  =&gt; 3
  7  =&gt; 7
  4  =&gt; 4
  13 =&gt; 13
  2  =&gt; 2
  10 =&gt; 10</code></pre><h2 id="LODF"><a class="docs-heading-anchor" href="#LODF">LODF</a><a id="LODF-1"></a><a class="docs-heading-anchor-permalink" href="#LODF" title="Permalink"></a></h2><p>LODF and PTDF share the same characteristics in terms of indexing and calculation:</p><pre><code class="language-julia hljs">lodf = LODF(system_data)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">PowerNetworkMatrix
:
 -1.0           1.0          -0.207667     …   0.00397419    0.030043
  1.0          -1.0           0.207667        -0.00397419   -0.030043
 -0.168846      0.168846     -1.0              0.00337054    0.0254797
 -0.353359      0.353359      0.455286         0.00705382    0.0533236
 -0.477795      0.477795      0.337047        -0.00645017   -0.0487603
 -0.168846      0.168846     -1.0          …   0.00337054    0.0254797
 -0.493344      0.493344     -0.514609        -0.0561692    -0.424613
 -0.0182249     0.0182249    -0.0190105        0.0420518     0.317892
 -0.0106362     0.0106362    -0.0110947        0.0245418     0.185525
  0.0288612    -0.0288612     0.0301052       -0.0665936    -0.503416
  0.0173795    -0.0173795     0.0181287    …   0.0656897     0.496584
  0.00255259   -0.00255259    0.00266262      -1.0          -0.222319
  0.00892907   -0.00892907    0.00931395       0.867717     -0.777681
  4.98626e-17   1.83933e-17  -2.84764e-17      1.28408e-16  -1.55226e-16
 -0.0182249     0.0182249    -0.0190105        0.0420518     0.317892
 -0.0173795     0.0173795    -0.0181287    …  -0.0656897    -0.496584
 -0.0114817     0.0114817    -0.0119766        0.132283      1.0
 -0.0173795     0.0173795    -0.0181287       -0.0656897    -0.496584
  0.00255259   -0.00255259    0.00266262      -1.0          -0.222319
  0.0114817    -0.0114817     0.0119766       -0.132283     -1.0</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../generated_modeling_with_JuMP/">« Modeling With Jump</a><a class="docs-footer-nextpage" href="../generated_parsing/">Parsing »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.8 on <span class="colophon-date" title="Thursday 14 October 2021 20:01">Thursday 14 October 2021</span>. Using Julia version 1.6.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
