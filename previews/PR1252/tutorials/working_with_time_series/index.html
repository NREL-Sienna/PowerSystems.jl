<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Working with Time Series · PowerSystems.jl</title><meta name="title" content="Working with Time Series · PowerSystems.jl"/><meta property="og:title" content="Working with Time Series · PowerSystems.jl"/><meta property="twitter:title" content="Working with Time Series · PowerSystems.jl"/><meta name="description" content="Documentation for PowerSystems.jl."/><meta property="og:description" content="Documentation for PowerSystems.jl."/><meta property="twitter:description" content="Documentation for PowerSystems.jl."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.png" alt="PowerSystems.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">PowerSystems.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Welcome Page</a></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../creating_system/">Create and Explore a Power <code>System</code></a></li><li class="is-active"><a class="tocitem" href>Working with Time Series</a><ul class="internal"><li><a class="tocitem" href="#Example-Data-and-Setup"><span>Example Data and Setup</span></a></li><li class="toplevel"><a class="tocitem" href="#Add-and-Retrieve-a-Single-Time-Series"><span>Add and Retrieve a Single Time Series</span></a></li><li class="toplevel"><a class="tocitem" href="#Add-and-Retrieve-a-Forecast"><span>Add and Retrieve a Forecast</span></a></li><li class="toplevel"><a class="tocitem" href="#Add-A-Time-Series-Using-Scaling-Factors"><span>Add A Time Series Using Scaling Factors</span></a></li><li class="toplevel"><a class="tocitem" href="#Transform-a-SingleTimeSeries-into-a-Forecast"><span>Transform a <code>SingleTimeSeries</code> into a Forecast</span></a></li><li class="toplevel"><a class="tocitem" href="#Finding,-Retrieving,-and-Inspecting-Time-Series"><span>Finding, Retrieving, and Inspecting Time Series</span></a></li><li class="toplevel"><a class="tocitem" href="#Next-Steps"><span>Next Steps</span></a></li></ul></li><li><a class="tocitem" href="../add_dynamic_data/">Adding Data for Dynamic Simulations</a></li></ul></li><li><span class="tocitem">How to...</span><ul><li><a class="tocitem" href="../../how_to/install/">...install PowerSystems.jl</a></li><li><a class="tocitem" href="../../how_to/powersystembuilder/">...load a <code>system</code> from <code>PowerSystemCaseBuilder</code></a></li><li><a class="tocitem" href="../../how_to/parse_matpower_psse/">...parse data from MATPOWER or PSS/e files</a></li><li><a class="tocitem" href="../../how_to/parse_dynamic_data/">...parse PSS/e dynamic data</a></li><li><a class="tocitem" href="../../how_to/parse_tabular_data/">...parse tabular data from .csv files</a></li><li><a class="tocitem" href="../../how_to/parse_ts_from_csvs/">...parse time series data from .csv files</a></li><li><a class="tocitem" href="../../how_to/add_component_natural_units/">...add a component using natural units (MW)</a></li><li><a class="tocitem" href="../../how_to/get_buses/">...get all the buses in a system</a></li><li><a class="tocitem" href="../../how_to/get_available_generators/">...get the available generators in a system</a></li><li><a class="tocitem" href="../../how_to/add_cost_curve/">...add an Operating Cost</a></li><li><a class="tocitem" href="../../how_to/market_bid_cost/">...add a market bid</a></li><li><a class="tocitem" href="../../how_to/adding_additional_fields/">...add additional data to a component</a></li><li><a class="tocitem" href="../../how_to/add_new_types/">...customize or add a new Type</a></li><li><a class="tocitem" href="../../how_to/improve_ts_performance/">...improve performance with time series data</a></li><li><a class="tocitem" href="../../how_to/serialize_data/">...write and read data with a JSON</a></li><li><a class="tocitem" href="../../how_to/reduce_repl_printing/">...reduce REPL printing</a></li><li><a class="tocitem" href="../../how_to/migrating_to_psy4/">...migrate from version 3.0 to 4.0</a></li></ul></li><li><span class="tocitem">Explanation</span><ul><li><a class="tocitem" href="../../explanation/system/">System</a></li><li><a class="tocitem" href="../../explanation/type_structure/">Type Structure</a></li><li><a class="tocitem" href="../../explanation/per_unit/">Per-unit Conventions</a></li><li><a class="tocitem" href="../../explanation/time_series/">Time Series Data</a></li><li><a class="tocitem" href="../../explanation/dynamic_data/">Dynamic Devices</a></li></ul></li><li><span class="tocitem">Model Library</span><ul><li><input class="collapse-toggle" id="menuitem-5-1" type="checkbox"/><label class="tocitem" for="menuitem-5-1"><span class="docs-label">DynamicInverterComponent</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../model_library/generated_Converter/">Converter</a></li><li><a class="tocitem" href="../../model_library/generated_DCSource/">DCSource</a></li><li><a class="tocitem" href="../../model_library/generated_Filter/">Filter</a></li><li><a class="tocitem" href="../../model_library/generated_FrequencyEstimator/">FrequencyEstimator</a></li><li><a class="tocitem" href="../../model_library/generated_InnerControl/">InnerControl</a></li><li><a class="tocitem" href="../../model_library/generated_OutputCurrentLimiter/">OutputCurrentLimiter</a></li><li><a class="tocitem" href="../../model_library/outer_control/">OuterControl</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5-2" type="checkbox"/><label class="tocitem" for="menuitem-5-2"><span class="docs-label">StaticInjection</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../model_library/generated_FixedAdmittance/">FixedAdmittance</a></li><li><a class="tocitem" href="../../model_library/generated_InterruptiblePowerLoad/">InterruptiblePowerLoad</a></li><li><a class="tocitem" href="../../model_library/generated_ExponentialLoad/">ExponentialLoad</a></li><li><a class="tocitem" href="../../model_library/generated_PowerLoad/">PowerLoad</a></li><li><a class="tocitem" href="../../model_library/generated_StandardLoad/">StandardLoad</a></li><li><a class="tocitem" href="../../model_library/generated_SwitchedAdmittance/">SwitchedAdmittance</a></li><li><a class="tocitem" href="../../model_library/generated_HydroDispatch/">HydroDispatch</a></li><li><a class="tocitem" href="../../model_library/generated_HydroEnergyReservoir/">HydroEnergyReservoir</a></li><li><a class="tocitem" href="../../model_library/generated_HydroPumpedStorage/">HydroPumpedStorage</a></li><li><a class="tocitem" href="../../model_library/generated_RenewableDispatch/">RenewableDispatch</a></li><li><a class="tocitem" href="../../model_library/generated_RenewableNonDispatch/">RenewableNonDispatch</a></li><li><a class="tocitem" href="../../model_library/generated_ThermalMultiStart/">ThermalMultiStart</a></li><li><a class="tocitem" href="../../model_library/generated_ThermalStandard/">ThermalStandard</a></li><li><a class="tocitem" href="../../model_library/generated_InterconnectingConverter/">InterconnectingConverter</a></li><li><a class="tocitem" href="../../model_library/generated_Source/">Source</a></li><li><a class="tocitem" href="../../model_library/generated_EnergyReservoirStorage/">EnergyReservoirStorage</a></li><li><a class="tocitem" href="../../model_library/hybrid_system/">HybridSystem</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5-3" type="checkbox"/><label class="tocitem" for="menuitem-5-3"><span class="docs-label">Operating Costs</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../model_library/thermal_generation_cost/">ThermalGenerationCost</a></li><li><a class="tocitem" href="../../model_library/hydro_generation_cost/">HydroGenerationCost</a></li><li><a class="tocitem" href="../../model_library/renewable_generation_cost/">RenewableGenerationCost</a></li><li><a class="tocitem" href="../../model_library/storage_cost/">StorageCost</a></li><li><a class="tocitem" href="../../model_library/load_cost/">LoadCost</a></li><li><a class="tocitem" href="../../model_library/market_bid_cost/">MarketBidCost</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5-4" type="checkbox"/><label class="tocitem" for="menuitem-5-4"><span class="docs-label">Topology</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../model_library/generated_Area/">Area</a></li><li><a class="tocitem" href="../../model_library/generated_LoadZone/">LoadZone</a></li><li><a class="tocitem" href="../../model_library/generated_Arc/">Arc</a></li><li><a class="tocitem" href="../../model_library/generated_ACBus/">ACBus</a></li><li><a class="tocitem" href="../../model_library/generated_DCBus/">DCBus</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5-5" type="checkbox"/><label class="tocitem" for="menuitem-5-5"><span class="docs-label">DynamicInjection</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../model_library/generated_ActiveConstantPowerLoad/">ActiveConstantPowerLoad</a></li><li><a class="tocitem" href="../../model_library/generated_AggregateDistributedGenerationA/">AggregateDistributedGenerationA</a></li><li><a class="tocitem" href="../../model_library/generated_CSVGN1/">CSVGN1</a></li><li><a class="tocitem" href="../../model_library/generated_DynamicExponentialLoad/">DynamicExponentialLoad</a></li><li><a class="tocitem" href="../../model_library/generated_GenericDER/">GenericDER</a></li><li><a class="tocitem" href="../../model_library/generated_PeriodicVariableSource/">PeriodicVariableSource</a></li><li><a class="tocitem" href="../../model_library/generated_SimplifiedSingleCageInductionMachine/">SimplifiedSingleCageInductionMachine</a></li><li><a class="tocitem" href="../../model_library/generated_SingleCageInductionMachine/">SingleCageInductionMachine</a></li><li><a class="tocitem" href="../../model_library/dynamic_inverter/">Dynamic Inverter</a></li><li><a class="tocitem" href="../../model_library/dynamic_generator/">Dynamic Generator</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5-6" type="checkbox"/><label class="tocitem" for="menuitem-5-6"><span class="docs-label">Service</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../model_library/generated_AGC/">AGC</a></li><li><a class="tocitem" href="../../model_library/generated_ConstantReserveNonSpinning/">ConstantReserveNonSpinning</a></li><li><a class="tocitem" href="../../model_library/generated_VariableReserveNonSpinning/">VariableReserveNonSpinning</a></li><li><a class="tocitem" href="../../model_library/generated_TransmissionInterface/">TransmissionInterface</a></li><li><a class="tocitem" href="../../model_library/reserves/">Reserves</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5-7" type="checkbox"/><label class="tocitem" for="menuitem-5-7"><span class="docs-label">Branch</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../model_library/generated_Line/">Line</a></li><li><a class="tocitem" href="../../model_library/generated_MonitoredLine/">MonitoredLine</a></li><li><a class="tocitem" href="../../model_library/generated_PhaseShiftingTransformer/">PhaseShiftingTransformer</a></li><li><a class="tocitem" href="../../model_library/generated_TapTransformer/">TapTransformer</a></li><li><a class="tocitem" href="../../model_library/generated_Transformer2W/">Transformer2W</a></li><li><a class="tocitem" href="../../model_library/generated_Transformer3W/">Transformer3W</a></li><li><a class="tocitem" href="../../model_library/generated_TwoTerminalHVDCLine/">TwoTerminalHVDCLine</a></li><li><a class="tocitem" href="../../model_library/generated_TwoTerminalVSCDCLine/">TwoTerminalVSCDCLine</a></li><li><a class="tocitem" href="../../model_library/generated_AreaInterchange/">AreaInterchange</a></li><li><a class="tocitem" href="../../model_library/generated_TModelHVDCLine/">TModelHVDCLine</a></li><li><a class="tocitem" href="../../model_library/dynamic_branch/">Dynamic Lines</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5-8" type="checkbox"/><label class="tocitem" for="menuitem-5-8"><span class="docs-label">DynamicGeneratorComponent</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../model_library/generated_AVR/">AVR</a></li><li><a class="tocitem" href="../../model_library/generated_Machine/">Machine</a></li><li><a class="tocitem" href="../../model_library/generated_PSS/">PSS</a></li><li><a class="tocitem" href="../../model_library/generated_Shaft/">Shaft</a></li><li><a class="tocitem" href="../../model_library/generated_TurbineGov/">TurbineGov</a></li></ul></li></ul></li><li><span class="tocitem">Reference</span><ul><li><a class="tocitem" href="../../api/public/">Public API</a></li><li><a class="tocitem" href="../../api/glossary/">Glossary and Acronyms</a></li><li><a class="tocitem" href="../../api/type_tree/">Type Tree</a></li><li><a class="tocitem" href="../../api/valuecurve_options/"><code>ValueCurve</code> Options</a></li><li><a class="tocitem" href="../../api/enumerated_types/">Specifying the category of...</a></li><li><a class="tocitem" href="../../api/citation/">Citation</a></li><li><input class="collapse-toggle" id="menuitem-6-7" type="checkbox"/><label class="tocitem" for="menuitem-6-7"><span class="docs-label">Developers</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../api/developer_guidelines/">Developer Guidelines</a></li><li><a class="tocitem" href="../../api/internal/">Internals</a></li></ul></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Tutorials</a></li><li class="is-active"><a href>Working with Time Series</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Working with Time Series</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/NREL-Sienna/PowerSystems.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/NREL-Sienna/PowerSystems.jl/blob/main/docs/src/tutorials/working_with_time_series.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="tutorial_time_series"><a class="docs-heading-anchor" href="#tutorial_time_series">Working with Time Series Data</a><a id="tutorial_time_series-1"></a><a class="docs-heading-anchor-permalink" href="#tutorial_time_series" title="Permalink"></a></h1><p>In this tutorial, we will manually add, retrieve, and inspect time-series data in different formats, including identifying which components in a power <code>System</code> have time series data. Along the way, we will also use workarounds for missing forecast data and reuse identical time series profiles to avoid unnecessary memory usage.</p><h2 id="Example-Data-and-Setup"><a class="docs-heading-anchor" href="#Example-Data-and-Setup">Example Data and Setup</a><a id="Example-Data-and-Setup-1"></a><a class="docs-heading-anchor-permalink" href="#Example-Data-and-Setup" title="Permalink"></a></h2><p>We will make an example <code>System</code> with a wind generator and two loads, and add the time series needed to model, for example, the impacts of wind forecast uncertainty.</p><p>Here is the available data:</p><img src="../../assets/time_series_tutorial.png" width="100%"/><p>For the wind generator, we have the historical point (deterministic) forecasts of power output. The forecasts were generated every 30 minutes with a 5-minute <a href="../../api/glossary/#R">resolution</a> and 1-hour <a href="../../api/glossary/#H">horizon</a>. We also have measurements what actually happened at 5-minute resolution over the 2 hours.</p><p>For the loads, note that the forecast data is missing. We only have the historical measurements of total load for the system, which is normalized to the system&#39;s peak load.</p><p>Load the <code>PowerSystems</code>, <code>Dates</code>, and <code>TimeSeries</code> packages to get started:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; using PowerSystems</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; using Dates</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; using TimeSeries</code><code class="nohighlight hljs ansi" style="display:block;"></code></pre><p>As usual, we need to define a power <a href="../../api/public/#System"><code>System</code></a> that holds all our data. Let&#39;s define a simple system with a bus, a wind generator, and two loads:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; system = System(100.0); # 100 MVA base power</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; bus1 = ACBus(;
           number = 1,
           name = &quot;bus1&quot;,
           bustype = ACBusTypes.REF,
           angle = 0.0,
           magnitude = 1.0,
           voltage_limits = (min = 0.9, max = 1.05),
           base_voltage = 230.0,
       );</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; wind1 = RenewableDispatch(;
           name = &quot;wind1&quot;,
           available = true,
           bus = bus1,
           active_power = 0.0, # Per-unitized by device base_power
           reactive_power = 0.0, # Per-unitized by device base_power
           rating = 1.0, # 10 MW per-unitized by device base_power
           prime_mover_type = PrimeMovers.WT,
           reactive_power_limits = (min = 0.0, max = 0.0), # per-unitized by device base_power
           power_factor = 1.0,
           operation_cost = RenewableGenerationCost(nothing),
           base_power = 10.0, # MVA
       );</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; load1 = PowerLoad(;
           name = &quot;load1&quot;,
           available = true,
           bus = bus1,
           active_power = 0.0, # Per-unitized by device base_power
           reactive_power = 0.0, # Per-unitized by device base_power
           base_power = 10.0, # MVA
           max_active_power = 1.0, # 10 MW per-unitized by device base_power
           max_reactive_power = 0.0,
       );</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; load2 = PowerLoad(;
           name = &quot;load2&quot;,
           available = true,
           bus = bus1,
           active_power = 0.0, # Per-unitized by device base_power
           reactive_power = 0.0, # Per-unitized by device base_power
           base_power = 30.0, # MVA
           max_active_power = 1.0, # 10 MW per-unitized by device base_power
           max_reactive_power = 0.0,
       );</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; add_components!(system, [bus1, wind1, load1, load2])</code><code class="nohighlight hljs ansi" style="display:block;"></code></pre><p>Recall that we can also set the <code>System</code>&#39;s unit base to natural units (MW) to make it easier to inspect results:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; set_units_base_system!(system, &quot;NATURAL_UNITS&quot;)</code><code class="nohighlight hljs ansi" style="display:block;"><span class="sgr36"><span class="sgr1">[ Info: </span></span>Unit System changed to UnitSystem.NATURAL_UNITS = 2</code></pre><p>Before we get started, print <code>wind1</code> to see its data:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; wind1</code><code class="nohighlight hljs ansi" style="display:block;">RenewableDispatch: wind1:
   name: wind1
   available: true
   bus: ACBus: bus1
   active_power: 0.0
   reactive_power: 0.0
   rating: 10.0
   prime_mover_type: PrimeMovers.WT = 22
   reactive_power_limits: (min = 0.0, max = 0.0)
   power_factor: 1.0
   operation_cost: RenewableGenerationCost composed of variable: CostCurve{LinearCurve}, curtailment_cost: CostCurve{LinearCurve}
   base_power: 10.0
   services: 0-element Vector{Service}
   dynamic_injector: nothing
   ext: Dict{String, Any}()
   InfrastructureSystems.SystemUnitsSettings:
      base_value: 100.0
      unit_system: UnitSystem.NATURAL_UNITS = 2
   has_supplemental_attributes: false
   has_time_series: false</code></pre><p>See the <code>has_time_series</code> field at the bottom is <code>false</code>.</p><p>Recall that we also can see a summary of the system by printing it:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; system</code><code class="nohighlight hljs ansi" style="display:block;"><span class="sgr1">System
┌───────────────────┬───────────────┐
│ Property          │ Value         │
├───────────────────┼───────────────┤
│ Name              │               │
│ Description       │               │
│ System Units Base │ NATURAL_UNITS │
│ Base Power        │ 100.0         │
│ Base Frequency    │ 60.0          │
│ Num Components    │ 4             │
└───────────────────┴───────────────┘

Static Components
┌───────────────────┬───────┐
│ Type              │ Count │
├───────────────────┼───────┤
│ ACBus             │ 1     │
│ PowerLoad         │ 2     │
│ RenewableDispatch │ 1     │
└───────────────────┴───────┘</span></code></pre><p>Observe that there is no mention of time series data in the system yet.</p><h1 id="Add-and-Retrieve-a-Single-Time-Series"><a class="docs-heading-anchor" href="#Add-and-Retrieve-a-Single-Time-Series">Add and Retrieve a Single Time Series</a><a id="Add-and-Retrieve-a-Single-Time-Series-1"></a><a class="docs-heading-anchor-permalink" href="#Add-and-Retrieve-a-Single-Time-Series" title="Permalink"></a></h1><p>Let&#39;s start by defining and attaching the wind measurements shown in the data above. This is a single time series profile, so we will use a <a href="../../api/public/#InfrastructureSystems.SingleTimeSeries"><code>SingleTimeSeries</code></a>.</p><p>First, define a <code>TimeSeries.TimeArray</code> of input data, using the 5-minute <a href="../../api/glossary/#R">resolution</a> to define the time-stamps in the example data:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; wind_values = [6.0, 7, 7, 6, 7, 9, 9, 9, 8, 8, 7, 6, 5, 5, 5, 5, 5, 6, 6, 6, 7, 6, 7, 7];</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; resolution = Dates.Minute(5);</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; timestamps = range(DateTime(&quot;2020-01-01T08:00:00&quot;); step = resolution, length = 24);</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; wind_timearray = TimeArray(timestamps, wind_values);</code><code class="nohighlight hljs ansi" style="display:block;"></code></pre><p>Now, use the input data to define a Single Time Series in PowerSystems:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; wind_time_series = SingleTimeSeries(;
           name = &quot;max_active_power&quot;,
           data = wind_timearray,
       );</code><code class="nohighlight hljs ansi" style="display:block;"></code></pre><p>Note that we&#39;ve chosen the name <code>max_active_power</code>, which is the default time series profile name when using <a href="https://nrel-sienna.github.io/PowerSimulations.jl/stable/formulation_library/RenewableGen/">PowerSimulations.jl</a> for simulations.</p><p>So far, this time series has been defined, but not attached to our <code>System</code> in any way. Now, attach it to <code>wind1</code> using <a href="../../api/public/#PowerSystems.add_time_series!-Tuple{System, Component, TimeSeriesData}"><code>add_time_series!</code></a>:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; add_time_series!(system, wind1, wind_time_series);</code><code class="nohighlight hljs ansi" style="display:block;"></code></pre><p>Let&#39;s double-check this worked by calling <a href="../../api/public/#InfrastructureSystems.show_time_series-Tuple{Union{InfrastructureSystems.InfrastructureSystemsComponent, SupplementalAttribute}}"><code>show_time_series</code></a>:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; show_time_series(wind1)</code><code class="nohighlight hljs ansi" style="display:block;">┌──────────────────┬──────────────────┬─────────────────────┬─────────────────────┬────────┬─────────────────────┐
│<span class="sgr1"> time_series_type │             name │   initial_timestamp │          resolution │ length │            features │
│<span class="sgr90">           String │           String │      Dates.DateTime │   Dates.Millisecond │  Int64 │   Dict{String, Any} │
├──────────────────┼──────────────────┼─────────────────────┼─────────────────────┼────────┼─────────────────────┤
│ SingleTimeSeries │ max_active_power │ 2020-01-01T08:00:00 │ 300000 milliseconds │     24 │ Dict{String, Any}() │
└──────────────────┴──────────────────┴─────────────────────┴─────────────────────┴────────┴─────────────────────┘</span></span></code></pre><p>Now <code>wind1</code> has the first time-series data set. Recall that you can also print <code>wind1</code> and check the <code>has_time_series</code> field like we did above.</p><p>Finally, let&#39;s retrieve and inspect the new timeseries, using <code>get_time_series_array</code>:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; get_time_series_array(SingleTimeSeries, wind1, &quot;max_active_power&quot;)</code><code class="nohighlight hljs ansi" style="display:block;">24×1 TimeSeries.TimeArray{Float64, 1, Dates.DateTime, Vector{Float64}} 2020-01-01T08:00:00 to 2020-01-01T09:55:00
┌─────────────────────┬─────┐
│<span class="sgr1">                     │ A   │
├─────────────────────┼─────┤
│ 2020-01-01T08:00:00 │ 6.0 │
│ 2020-01-01T08:05:00 │ 7.0 │
│ 2020-01-01T08:10:00 │ 7.0 │
│ 2020-01-01T08:15:00 │ 6.0 │
│ 2020-01-01T08:20:00 │ 7.0 │
│ 2020-01-01T08:25:00 │ 9.0 │
│ 2020-01-01T08:30:00 │ 9.0 │
│ 2020-01-01T08:35:00 │ 9.0 │
│          ⋮          │  ⋮  │
│ 2020-01-01T09:25:00 │ 6.0 │
│ 2020-01-01T09:30:00 │ 6.0 │
│ 2020-01-01T09:35:00 │ 6.0 │
│ 2020-01-01T09:40:00 │ 7.0 │
│ 2020-01-01T09:45:00 │ 6.0 │
│ 2020-01-01T09:50:00 │ 7.0 │
│ 2020-01-01T09:55:00 │ 7.0 │
└─────────────────────┴─────┘
<span class="sgr36">               9 rows omitted</span></span></code></pre><p>Verify this matches your expectation based on the input data.</p><h1 id="Add-and-Retrieve-a-Forecast"><a class="docs-heading-anchor" href="#Add-and-Retrieve-a-Forecast">Add and Retrieve a Forecast</a><a id="Add-and-Retrieve-a-Forecast-1"></a><a class="docs-heading-anchor-permalink" href="#Add-and-Retrieve-a-Forecast" title="Permalink"></a></h1><p>Next, let&#39;s add the wind power forecasts. We will use a <a href="../../api/public/#InfrastructureSystems.Deterministic"><code>Deterministic</code></a> format for the point forecasts.</p><p>Because we have forecasts with at different <a href="../../api/glossary/#I">initial times</a>, the input data must be a dictionary where the keys are the initial times and the values are vectors or <code>TimeSeries.TimeArray</code>s of the forecast data. Set up the example input data:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; wind_forecast_data = Dict(
           DateTime(&quot;2020-01-01T08:00:00&quot;) =&gt; [5.0, 6, 7, 7, 7, 8, 9, 10, 10, 9, 7, 5],
           DateTime(&quot;2020-01-01T08:30:00&quot;) =&gt; [9.0, 9, 9, 9, 8, 7, 6, 5, 4, 5, 4, 4],
           DateTime(&quot;2020-01-01T09:00:00&quot;) =&gt; [6.0, 6, 5, 5, 4, 5, 6, 7, 7, 7, 6, 6],
       );</code><code class="nohighlight hljs ansi" style="display:block;"></code></pre><p>Define the <code>Deterministic</code> forecast and attach it to <code>wind1</code>:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; wind_forecast = Deterministic(&quot;max_active_power&quot;, wind_forecast_data, resolution);</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; add_time_series!(system, wind1, wind_forecast);</code><code class="nohighlight hljs ansi" style="display:block;"></code></pre><p>Let&#39;s call <code>show_time_series</code> once again:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; show_time_series(wind1)</code><code class="nohighlight hljs ansi" style="display:block;">┌──────────────────┬──────────────────┬─────────────────────┬──────────────┬──────────────┬──────────────────────┬───────┬─────────────────────┐
│<span class="sgr1"> time_series_type │             name │   initial_timestamp │   resolution │      horizon │             interval │ count │            features │
│<span class="sgr90">           String │           String │      Dates.DateTime │ Dates.Minute │ Dates.Minute │    Dates.Millisecond │ Int64 │   Dict{String, Any} │
├──────────────────┼──────────────────┼─────────────────────┼──────────────┼──────────────┼──────────────────────┼───────┼─────────────────────┤
│    Deterministic │ max_active_power │ 2020-01-01T08:00:00 │    5 minutes │   60 minutes │ 1800000 milliseconds │     3 │ Dict{String, Any}() │
└──────────────────┴──────────────────┴─────────────────────┴──────────────┴──────────────┴──────────────────────┴───────┴─────────────────────┘
┌──────────────────┬──────────────────┬─────────────────────┬─────────────────────┬────────┬─────────────────────┐
│ time_series_type │             name │   initial_timestamp │          resolution │ length │            features │
│           String │           String │      Dates.DateTime │   Dates.Millisecond │  Int64 │   Dict{String, Any} │
├──────────────────┼──────────────────┼─────────────────────┼─────────────────────┼────────┼─────────────────────┤
│ SingleTimeSeries │ max_active_power │ 2020-01-01T08:00:00 │ 300000 milliseconds │     24 │ Dict{String, Any}() │
└──────────────────┴──────────────────┴─────────────────────┴─────────────────────┴────────┴─────────────────────┘</span></span></code></pre><p>Notice that we now have two types of time series listed – the single time series and the forecasts.</p><p>Finally, let&#39;s retrieve the forecast data to double check it was added properly, specifying the initial time to get the 2nd forecast window starting at 8:30:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; get_time_series_array(
           Deterministic,
           wind1,
           &quot;max_active_power&quot;;
           start_time = DateTime(&quot;2020-01-01T08:30:00&quot;),
       )</code><code class="nohighlight hljs ansi" style="display:block;">12×1 TimeSeries.TimeArray{Float64, 1, Dates.DateTime, SubArray{Float64, 1, Vector{Float64}, Tuple{UnitRange{Int64}}, true}} 2020-01-01T08:30:00 to 2020-01-01T09:25:00
┌─────────────────────┬─────┐
│<span class="sgr1">                     │ A   │
├─────────────────────┼─────┤
│ 2020-01-01T08:30:00 │ 9.0 │
│ 2020-01-01T08:35:00 │ 9.0 │
│ 2020-01-01T08:40:00 │ 9.0 │
│ 2020-01-01T08:45:00 │ 9.0 │
│ 2020-01-01T08:50:00 │ 8.0 │
│ 2020-01-01T08:55:00 │ 7.0 │
│ 2020-01-01T09:00:00 │ 6.0 │
│ 2020-01-01T09:05:00 │ 5.0 │
│ 2020-01-01T09:10:00 │ 4.0 │
│ 2020-01-01T09:15:00 │ 5.0 │
│ 2020-01-01T09:20:00 │ 4.0 │
│ 2020-01-01T09:25:00 │ 4.0 │
└─────────────────────┴─────┘</span></code></pre><h1 id="Add-A-Time-Series-Using-Scaling-Factors"><a class="docs-heading-anchor" href="#Add-A-Time-Series-Using-Scaling-Factors">Add A Time Series Using Scaling Factors</a><a id="Add-A-Time-Series-Using-Scaling-Factors-1"></a><a class="docs-heading-anchor-permalink" href="#Add-A-Time-Series-Using-Scaling-Factors" title="Permalink"></a></h1><p>Let&#39;s add the load time series. Recall that this data is normalized to the peak system power, so we&#39;ll use it to scale both of our loads. We call normalized time series data <em>scaling factors</em>.</p><p>First, let&#39;s create our input data <code>TimeSeries.TimeArray</code> with the example data and the same time stamps we used in the wind time series:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; load_values = [0.3, 0.3, 0.3, 0.3, 0.4, 0.4, 0.4, 0.4, 0.5, 0.5, 0.6, 0.6,
           0.7, 0.8, 0.8, 0.8, 0.8, 0.8, 0.9, 0.8, 0.8, 0.8, 0.8, 0.8];</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; load_timearray = TimeArray(timestamps, load_values);</code><code class="nohighlight hljs ansi" style="display:block;"></code></pre><p>Again, define a <a href="../../api/public/#InfrastructureSystems.SingleTimeSeries"><code>SingleTimeSeries</code></a>, but this time use the <code>scaling_factor_multiplier</code>parameter to scale this time series from normalized values to power values:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; load_time_series = SingleTimeSeries(;
           name = &quot;max_active_power&quot;,
           data = load_timearray,
           scaling_factor_multiplier = get_max_active_power,
       );</code><code class="nohighlight hljs ansi" style="display:block;"></code></pre><p>Notice that we assigned the <a href="../../model_library/generated_PowerLoad/#PowerSystems.get_max_active_power-Tuple{PowerLoad}"><code>get_max_active_power</code></a> <em>function</em> to scale the time series, rather than a value, making the time series reusable for multiple components or multiple fields in a component.</p><p>Now, add the scaling factor time series to both loads to save memory and avoid data duplication:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; add_time_series!(system, [load1, load2], load_time_series);</code><code class="nohighlight hljs ansi" style="display:block;"></code></pre><p>Let&#39;s take a look at <code>load1</code>, including printing its parameters...</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; load1</code><code class="nohighlight hljs ansi" style="display:block;">PowerLoad: load1:
   name: load1
   available: true
   bus: ACBus: bus1
   active_power: 0.0
   reactive_power: 0.0
   base_power: 10.0
   max_active_power: 10.0
   max_reactive_power: 0.0
   services: 0-element Vector{Service}
   dynamic_injector: nothing
   ext: Dict{String, Any}()
   InfrastructureSystems.SystemUnitsSettings:
      base_value: 100.0
      unit_system: UnitSystem.NATURAL_UNITS = 2
   has_supplemental_attributes: false
   has_time_series: true</code></pre><p>...as well as its time series:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; show_time_series(load1)</code><code class="nohighlight hljs ansi" style="display:block;">┌──────────────────┬──────────────────┬─────────────────────┬─────────────────────┬────────┬─────────────────────┐
│<span class="sgr1"> time_series_type │             name │   initial_timestamp │          resolution │ length │            features │
│<span class="sgr90">           String │           String │      Dates.DateTime │   Dates.Millisecond │  Int64 │   Dict{String, Any} │
├──────────────────┼──────────────────┼─────────────────────┼─────────────────────┼────────┼─────────────────────┤
│ SingleTimeSeries │ max_active_power │ 2020-01-01T08:00:00 │ 300000 milliseconds │     24 │ Dict{String, Any}() │
└──────────────────┴──────────────────┴─────────────────────┴─────────────────────┴────────┴─────────────────────┘</span></span></code></pre><div class="admonition is-success"><header class="admonition-header">Important</header><div class="admonition-body"><p>Notice that each load now has two references to <code>max_active_power</code>. This is intentional. There is the parameter, <code>max_active_power</code>, which is  the maximum demand of each load at any time (10 MW). There is also <code>max_active_power</code> the time series, which is the time varying demand over the 2-hour window, calculated using the scaling factors and the <code>max_active_power</code> parameter.</p><p>This means that if we change the <code>max_active_power</code> parameter, the time series will also change when we retrieve it! This is also true when we apply the same scaling factors to multiple components or parameters.</p></div></div><p>Let&#39;s check the impact that these two <code>max_active_power</code> data sources have on the times series data when we retrieve it. Get the <code>max_active_power</code> time series for <code>load1</code>:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; get_time_series_array(SingleTimeSeries, load1, &quot;max_active_power&quot;) # in MW</code><code class="nohighlight hljs ansi" style="display:block;">24×1 TimeSeries.TimeArray{Float64, 1, Dates.DateTime, Vector{Float64}} 2020-01-01T08:00:00 to 2020-01-01T09:55:00
┌─────────────────────┬─────┐
│<span class="sgr1">                     │ A   │
├─────────────────────┼─────┤
│ 2020-01-01T08:00:00 │ 3.0 │
│ 2020-01-01T08:05:00 │ 3.0 │
│ 2020-01-01T08:10:00 │ 3.0 │
│ 2020-01-01T08:15:00 │ 3.0 │
│ 2020-01-01T08:20:00 │ 4.0 │
│ 2020-01-01T08:25:00 │ 4.0 │
│ 2020-01-01T08:30:00 │ 4.0 │
│ 2020-01-01T08:35:00 │ 4.0 │
│          ⋮          │  ⋮  │
│ 2020-01-01T09:25:00 │ 8.0 │
│ 2020-01-01T09:30:00 │ 9.0 │
│ 2020-01-01T09:35:00 │ 8.0 │
│ 2020-01-01T09:40:00 │ 8.0 │
│ 2020-01-01T09:45:00 │ 8.0 │
│ 2020-01-01T09:50:00 │ 8.0 │
│ 2020-01-01T09:55:00 │ 8.0 │
└─────────────────────┴─────┘
<span class="sgr36">               9 rows omitted</span></span></code></pre><p>See that the normalized values have been scaled up by 10 MW.</p><p>Now let&#39;s at <code>load2</code>. First check its <code>max_active_power</code> parameter:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; get_max_active_power(load2)</code><code class="nohighlight hljs ansi" style="display:block;">30.0</code></pre><p>This has a higher peak maximum demand of 30 MW.</p><p>Next, retrieve it&#39;s <code>max_active_power</code> time series:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; get_time_series_array(SingleTimeSeries, load2, &quot;max_active_power&quot;) # in MW</code><code class="nohighlight hljs ansi" style="display:block;">24×1 TimeSeries.TimeArray{Float64, 1, Dates.DateTime, Vector{Float64}} 2020-01-01T08:00:00 to 2020-01-01T09:55:00
┌─────────────────────┬──────┐
│<span class="sgr1">                     │ A    │
├─────────────────────┼──────┤
│ 2020-01-01T08:00:00 │  9.0 │
│ 2020-01-01T08:05:00 │  9.0 │
│ 2020-01-01T08:10:00 │  9.0 │
│ 2020-01-01T08:15:00 │  9.0 │
│ 2020-01-01T08:20:00 │ 12.0 │
│ 2020-01-01T08:25:00 │ 12.0 │
│ 2020-01-01T08:30:00 │ 12.0 │
│ 2020-01-01T08:35:00 │ 12.0 │
│          ⋮          │  ⋮   │
│ 2020-01-01T09:25:00 │ 24.0 │
│ 2020-01-01T09:30:00 │ 27.0 │
│ 2020-01-01T09:35:00 │ 24.0 │
│ 2020-01-01T09:40:00 │ 24.0 │
│ 2020-01-01T09:45:00 │ 24.0 │
│ 2020-01-01T09:50:00 │ 24.0 │
│ 2020-01-01T09:55:00 │ 24.0 │
└─────────────────────┴──────┘
<span class="sgr36">                9 rows omitted</span></span></code></pre><p>Observe the difference compared to <code>load1</code>&#39;s time series.</p><p>Finally, retrieve the underlying time series data with no scaling factor multiplier applied:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; get_time_series_array(SingleTimeSeries,
           load2,
           &quot;max_active_power&quot;;
           ignore_scaling_factors = true,
       )</code><code class="nohighlight hljs ansi" style="display:block;">24×1 TimeSeries.TimeArray{Float64, 1, Dates.DateTime, Vector{Float64}} 2020-01-01T08:00:00 to 2020-01-01T09:55:00
┌─────────────────────┬─────┐
│<span class="sgr1">                     │ A   │
├─────────────────────┼─────┤
│ 2020-01-01T08:00:00 │ 0.3 │
│ 2020-01-01T08:05:00 │ 0.3 │
│ 2020-01-01T08:10:00 │ 0.3 │
│ 2020-01-01T08:15:00 │ 0.3 │
│ 2020-01-01T08:20:00 │ 0.4 │
│ 2020-01-01T08:25:00 │ 0.4 │
│ 2020-01-01T08:30:00 │ 0.4 │
│ 2020-01-01T08:35:00 │ 0.4 │
│          ⋮          │  ⋮  │
│ 2020-01-01T09:25:00 │ 0.8 │
│ 2020-01-01T09:30:00 │ 0.9 │
│ 2020-01-01T09:35:00 │ 0.8 │
│ 2020-01-01T09:40:00 │ 0.8 │
│ 2020-01-01T09:45:00 │ 0.8 │
│ 2020-01-01T09:50:00 │ 0.8 │
│ 2020-01-01T09:55:00 │ 0.8 │
└─────────────────────┴─────┘
<span class="sgr36">               9 rows omitted</span></span></code></pre><p>Notice that this is the normalized input data, which is still being stored underneath. Each load is using a reference to that data when we call <code>get_time_series_array</code> to avoid unnecessary data duplication.</p><h1 id="Transform-a-SingleTimeSeries-into-a-Forecast"><a class="docs-heading-anchor" href="#Transform-a-SingleTimeSeries-into-a-Forecast">Transform a <code>SingleTimeSeries</code> into a Forecast</a><a id="Transform-a-SingleTimeSeries-into-a-Forecast-1"></a><a class="docs-heading-anchor-permalink" href="#Transform-a-SingleTimeSeries-into-a-Forecast" title="Permalink"></a></h1><p>Finally, let&#39;s use a workaround to handle the missing load forecast data. We will assume a perfect forecast where the forecast is based on the <code>SingleTimeSeries</code> we just added.</p><p>Rather than unnecessarily duplicating and reformatting data, use PowerSystems.jl&#39;s dedicated <a href="../../api/public/#PowerSystems.transform_single_time_series!-Tuple{System, Dates.Period, Dates.Period}"><code>transform_single_time_series!</code></a> function to generate a <a href="../../api/public/#InfrastructureSystems.DeterministicSingleTimeSeries"><code>DeterministicSingleTimeSeries</code></a>, which saves memory while behaving just like a <code>Deterministic</code> forecast:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; transform_single_time_series!(
           system,
           Dates.Hour(1), # horizon
           Dates.Minute(30), # interval
       );</code><code class="nohighlight hljs ansi" style="display:block;"></code></pre><p>Let&#39;s see the results for <code>load1</code>&#39;s time series summary:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; show_time_series(load1)</code><code class="nohighlight hljs ansi" style="display:block;">┌───────────────────────────────┬──────────────────┬─────────────────────┬─────────────────────┬────────────┬──────────────┬───────┬─────────────────────┐
│<span class="sgr1">              time_series_type │             name │   initial_timestamp │          resolution │    horizon │     interval │ count │            features │
│<span class="sgr90">                        String │           String │      Dates.DateTime │   Dates.Millisecond │ Dates.Hour │ Dates.Minute │ Int64 │   Dict{String, Any} │
├───────────────────────────────┼──────────────────┼─────────────────────┼─────────────────────┼────────────┼──────────────┼───────┼─────────────────────┤
│ DeterministicSingleTimeSeries │ max_active_power │ 2020-01-01T08:00:00 │ 300000 milliseconds │     1 hour │   30 minutes │     3 │ Dict{String, Any}() │
└───────────────────────────────┴──────────────────┴─────────────────────┴─────────────────────┴────────────┴──────────────┴───────┴─────────────────────┘
┌──────────────────┬──────────────────┬─────────────────────┬─────────────────────┬────────┬─────────────────────┐
│ time_series_type │             name │   initial_timestamp │          resolution │ length │            features │
│           String │           String │      Dates.DateTime │   Dates.Millisecond │  Int64 │   Dict{String, Any} │
├──────────────────┼──────────────────┼─────────────────────┼─────────────────────┼────────┼─────────────────────┤
│ SingleTimeSeries │ max_active_power │ 2020-01-01T08:00:00 │ 300000 milliseconds │     24 │ Dict{String, Any}() │
└──────────────────┴──────────────────┴─────────────────────┴─────────────────────┴────────┴─────────────────────┘</span></span></code></pre><p>Notice we now have a load forecast data set with the resolution, horizon, and, interval matching our wind forecasts.</p><p>Retrieve the first forecast window:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; get_time_series_array(
           DeterministicSingleTimeSeries,
           load1,
           &quot;max_active_power&quot;;
           start_time = DateTime(&quot;2020-01-01T08:00:00&quot;),
       )</code><code class="nohighlight hljs ansi" style="display:block;">12×1 TimeSeries.TimeArray{Float64, 1, Dates.DateTime, Vector{Float64}} 2020-01-01T08:00:00 to 2020-01-01T08:55:00
┌─────────────────────┬─────┐
│<span class="sgr1">                     │ A   │
├─────────────────────┼─────┤
│ 2020-01-01T08:00:00 │ 3.0 │
│ 2020-01-01T08:05:00 │ 3.0 │
│ 2020-01-01T08:10:00 │ 3.0 │
│ 2020-01-01T08:15:00 │ 3.0 │
│ 2020-01-01T08:20:00 │ 4.0 │
│ 2020-01-01T08:25:00 │ 4.0 │
│ 2020-01-01T08:30:00 │ 4.0 │
│ 2020-01-01T08:35:00 │ 4.0 │
│ 2020-01-01T08:40:00 │ 5.0 │
│ 2020-01-01T08:45:00 │ 5.0 │
│ 2020-01-01T08:50:00 │ 6.0 │
│ 2020-01-01T08:55:00 │ 6.0 │
└─────────────────────┴─────┘</span></code></pre><p>See that <code>load1</code>&#39;s scaling factor multiplier is still being applied as expected.</p><p>Continue to the next section to address one more impact of calling <code>transform_single_time_series!</code> on the entire <code>System</code>.</p><h1 id="Finding,-Retrieving,-and-Inspecting-Time-Series"><a class="docs-heading-anchor" href="#Finding,-Retrieving,-and-Inspecting-Time-Series">Finding, Retrieving, and Inspecting Time Series</a><a id="Finding,-Retrieving,-and-Inspecting-Time-Series-1"></a><a class="docs-heading-anchor-permalink" href="#Finding,-Retrieving,-and-Inspecting-Time-Series" title="Permalink"></a></h1><p>Now, let&#39;s complete this tutorial by doing a few sanity checks on the data that we&#39;ve added, where are we will also examine components with time series and retrieve the time series data in a few more ways.</p><p>First, recall that we can print a component to check its <code>has_time_series</code> field:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; load1</code><code class="nohighlight hljs ansi" style="display:block;">PowerLoad: load1:
   name: load1
   available: true
   bus: ACBus: bus1
   active_power: 0.0
   reactive_power: 0.0
   base_power: 10.0
   max_active_power: 10.0
   max_reactive_power: 0.0
   services: 0-element Vector{Service}
   dynamic_injector: nothing
   ext: Dict{String, Any}()
   InfrastructureSystems.SystemUnitsSettings:
      base_value: 100.0
      unit_system: UnitSystem.NATURAL_UNITS = 2
   has_supplemental_attributes: false
   has_time_series: true</code></pre><p>Also, recall we can print the <code>System</code> to summarize the data in our system:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; system</code><code class="nohighlight hljs ansi" style="display:block;"><span class="sgr1">System
┌───────────────────┬───────────────┐
│ Property          │ Value         │
├───────────────────┼───────────────┤
│ Name              │               │
│ Description       │               │
│ System Units Base │ NATURAL_UNITS │
│ Base Power        │ 100.0         │
│ Base Frequency    │ 60.0          │
│ Num Components    │ 4             │
└───────────────────┴───────────────┘

Static Components
┌───────────────────┬───────┐
│ Type              │ Count │
├───────────────────┼───────┤
│ ACBus             │ 1     │
│ PowerLoad         │ 2     │
│ RenewableDispatch │ 1     │
└───────────────────┴───────┘

Time Series Summary
┌───────────────────┬────────────────┬───────────────────────────────┬──────────
│ owner_type        │ owner_category │ time_series_type              │ time_se ⋯
│<span class="sgr90"> String            │ String         │ String                        │ String  ⋯
├───────────────────┼────────────────┼───────────────────────────────┼──────────
│ PowerLoad         │ Component      │ DeterministicSingleTimeSeries │ Forecas ⋯
│ PowerLoad         │ Component      │ SingleTimeSeries              │ StaticT ⋯
│ RenewableDispatch │ Component      │ Deterministic                 │ Forecas ⋯
│ RenewableDispatch │ Component      │ DeterministicSingleTimeSeries │ Forecas ⋯
│ RenewableDispatch │ Component      │ SingleTimeSeries              │ StaticT ⋯
└───────────────────┴────────────────┴───────────────────────────────┴──────────
</span><span class="sgr36">                                                               4 columns omitted</span></span></code></pre><p>Notice that a new table has been added – the Time Series Summary, showing the count of each Type of component that has a given time series type.</p><p>Additionally, see that there are both <code>Deterministic</code> and <code>DeterministicSingleTimeSeries</code> forecasts for our <code>RenewableDispatch</code> generator (<code>wind1</code>). This was a side effect of <code>transform_single_time_series!</code> which added <code>DeterministicSingleTimeSeries</code> for all <code>StaticTimeSeries</code> in the system, even though we don&#39;t need one for wind.</p><p>Let&#39;s remove it with <a href="../../api/public/#PowerSystems.remove_time_series!-Union{Tuple{T}, Tuple{System, Type{T}, Component, String}} where T&lt;:TimeSeriesData"><code>remove_time_series!</code></a>. Since we have one wind generator, we could easily do it for that component, but let&#39;s do programmatically instead by its Type:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; for g in get_components(x -&gt; has_time_series(x), RenewableDispatch, system)
           remove_time_series!(system, DeterministicSingleTimeSeries, g, &quot;max_active_power&quot;)
       end</code><code class="nohighlight hljs ansi" style="display:block;"></code></pre><p>Notice that we also filtered for components where <code>has_time_series</code> is <code>true</code>, which is a simple way to find and manipulate components with time series.</p><p>Let&#39;s double check <code>wind1</code> now:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; show_time_series(wind1)</code><code class="nohighlight hljs ansi" style="display:block;">┌──────────────────┬──────────────────┬─────────────────────┬──────────────┬──────────────┬──────────────────────┬───────┬─────────────────────┐
│<span class="sgr1"> time_series_type │             name │   initial_timestamp │   resolution │      horizon │             interval │ count │            features │
│<span class="sgr90">           String │           String │      Dates.DateTime │ Dates.Minute │ Dates.Minute │    Dates.Millisecond │ Int64 │   Dict{String, Any} │
├──────────────────┼──────────────────┼─────────────────────┼──────────────┼──────────────┼──────────────────────┼───────┼─────────────────────┤
│    Deterministic │ max_active_power │ 2020-01-01T08:00:00 │    5 minutes │   60 minutes │ 1800000 milliseconds │     3 │ Dict{String, Any}() │
└──────────────────┴──────────────────┴─────────────────────┴──────────────┴──────────────┴──────────────────────┴───────┴─────────────────────┘
┌──────────────────┬──────────────────┬─────────────────────┬─────────────────────┬────────┬─────────────────────┐
│ time_series_type │             name │   initial_timestamp │          resolution │ length │            features │
│           String │           String │      Dates.DateTime │   Dates.Millisecond │  Int64 │   Dict{String, Any} │
├──────────────────┼──────────────────┼─────────────────────┼─────────────────────┼────────┼─────────────────────┤
│ SingleTimeSeries │ max_active_power │ 2020-01-01T08:00:00 │ 300000 milliseconds │     24 │ Dict{String, Any}() │
└──────────────────┴──────────────────┴─────────────────────┴─────────────────────┴────────┴─────────────────────┘</span></span></code></pre><p>See the unnecessary data is gone.</p><p>Finally, let&#39;s do a last data sanity check on the forecasts. Since we defined the wind time series in MW instead of scaling factors, let&#39;s make sure none of our forecasts exceeds the <code>max_active_power</code> parameter.</p><p>Instead of using <code>get_time_series_array</code> where we need to remember some details of the time series we&#39;re looking up, let&#39;s use <a href="../../api/public/#InfrastructureSystems.get_time_series_keys-Tuple{Union{InfrastructureSystems.InfrastructureSystemsComponent, SupplementalAttribute}}"><code>get_time_series_keys</code></a> to refresh our memories:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; keys = get_time_series_keys(wind1)</code><code class="nohighlight hljs ansi" style="display:block;">2-element Vector{TimeSeriesKey}:
 ForecastKey(Deterministic, &quot;max_active_power&quot;, Dates.DateTime(&quot;2020-01-01T08:00:00&quot;), Dates.Minute(5), Dates.Minute(60), Dates.Millisecond(1800000), 3, Dict{String, Any}())
 StaticTimeSeriesKey(SingleTimeSeries, &quot;max_active_power&quot;, Dates.DateTime(&quot;2020-01-01T08:00:00&quot;), Dates.Millisecond(300000), 24, Dict{String, Any}())</code></pre><p>See the forecast key is first, so let&#39;s retrieve it using <a href="../../api/public/#InfrastructureSystems.get_time_series"><code>get_time_series</code></a>:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; forecast = get_time_series(wind1, keys[1])</code><code class="nohighlight hljs ansi" style="display:block;">Deterministic(&quot;max_active_power&quot;, DataStructures.SortedDict(Dates.DateTime(&quot;2020-01-01T08:00:00&quot;) =&gt; [5.0, 6.0, 7.0, 7.0, 7.0, 8.0, 9.0, 10.0, 10.0, 9.0, 7.0, 5.0], Dates.DateTime(&quot;2020-01-01T08:30:00&quot;) =&gt; [9.0, 9.0, 9.0, 9.0, 8.0, 7.0, 6.0, 5.0, 4.0, 5.0, 4.0, 4.0], Dates.DateTime(&quot;2020-01-01T09:00:00&quot;) =&gt; [6.0, 6.0, 5.0, 5.0, 4.0, 5.0, 6.0, 7.0, 7.0, 7.0, 6.0, 6.0]), Dates.Minute(5), nothing, InfrastructureSystems.InfrastructureSystemsInternal(Base.UUID(&quot;1edf982f-2667-4979-a43b-6eddc8910e5c&quot;), nothing, nothing, nothing))</code></pre><p>See that unlike when we used <code>get_time_series_array</code>, this returns an object we can manipulate.</p><p>Use <a href="../../api/public/#InfrastructureSystems.iterate_windows-Tuple{Deterministic}"><code>iterate_windows</code></a> to cycle through the 3 forecast windows and inspect the peak value:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; for window in iterate_windows(forecast)
           @show values(maximum(window))
       end</code><code class="nohighlight hljs ansi" style="display:block;">values(maximum(window)) = [10.0]
values(maximum(window)) = [9.0]
values(maximum(window)) = [7.0]</code></pre><p>Finally, use <a href="../../api/public/#PowerSystems.get_max_active_power-Tuple{T} where T&lt;:RenewableGen"><code>get_max_active_power</code></a> to check the expected maximum:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; get_max_active_power(wind1)</code><code class="nohighlight hljs ansi" style="display:block;">10.0</code></pre><p>See that the forecasts are not exceeding this maximum – sanity check complete.</p><div class="admonition is-success"><header class="admonition-header">Tip</header><div class="admonition-body"><p>Unlike <code>PowerLoad</code> components, <code>RenewableDispatch</code> components do not have a <code>max_active_power</code> field, so check <a href="../../api/public/#PowerSystems.get_max_active_power-Tuple{T} where T&lt;:RenewableGen"><code>get_max_active_power</code></a> to see how its calculated.</p></div></div><h1 id="Next-Steps"><a class="docs-heading-anchor" href="#Next-Steps">Next Steps</a><a id="Next-Steps-1"></a><a class="docs-heading-anchor-permalink" href="#Next-Steps" title="Permalink"></a></h1><p>In this tutorial, you defined, added, and retrieved four time series data sets, including static time series and deterministic forecasts. Along the way, we reduced data duplication using normalized scaling factors for reuse by multiple components or component fields, as well as by referencing a <code>StaticTimeSeries</code> to address missing forecast data.</p><p>Next you might like to:</p><ul><li><a href="../../how_to/parse_ts_from_csvs/#parsing_time_series">Parse many timeseries data sets from CSV&#39;s</a></li><li><a href="../../how_to/improve_ts_performance/#Improve-Performance-with-Time-Series-Data">See how to improve performance efficiency with your own time series data</a></li><li><a href="../../explanation/time_series/#ts_data">Review the available time series data formats</a></li><li><a href="../../explanation/time_series/#Data-Storage">Learn more about how times series data is stored</a></li></ul></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../creating_system/">« Create and Explore a Power <code>System</code></a><a class="docs-footer-nextpage" href="../add_dynamic_data/">Adding Data for Dynamic Simulations »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.8.0 on <span class="colophon-date" title="Saturday 18 January 2025 00:21">Saturday 18 January 2025</span>. Using Julia version 1.11.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
