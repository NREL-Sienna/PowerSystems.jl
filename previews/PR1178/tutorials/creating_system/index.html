<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Create and Explore a Power System Â· PowerSystems.jl</title><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.png" alt="PowerSystems.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">PowerSystems.jl</a></span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Welcome Page</a></li><li><span class="tocitem">Tutorials</span><ul><li class="is-active"><a class="tocitem" href>Create and Explore a Power <code>System</code></a><ul class="internal"><li><a class="tocitem" href="#Setup"><span>Setup</span></a></li><li><a class="tocitem" href="#Creating-a-Power-System"><span>Creating a Power <code>System</code></span></a></li><li><a class="tocitem" href="#Adding-Buses"><span>Adding Buses</span></a></li><li><a class="tocitem" href="#Adding-a-Transmission-Line"><span>Adding a Transmission Line</span></a></li><li><a class="tocitem" href="#Adding-Loads-and-Generators"><span>Adding Loads and Generators</span></a></li><li><a class="tocitem" href="#Explore-the-System-and-its-Components"><span>Explore the System and its Components</span></a></li><li><a class="tocitem" href="#Changing-System-Per-Unit-Settings"><span>Changing <code>System</code> Per-Unit Settings</span></a></li><li><a class="tocitem" href="#Next-Steps"><span>Next Steps</span></a></li></ul></li><li><a class="tocitem" href="../working_with_time_series/">Working with Time Series</a></li><li><a class="tocitem" href="../add_dynamic_device/">Adding dynamic devices</a></li></ul></li><li><span class="tocitem">How to...</span><ul><li><a class="tocitem" href="../../how_to/install/">...install PowerSystems.jl</a></li><li><a class="tocitem" href="../../how_to/powersystembuilder/">...load a <code>system</code> from <code>PowerSystemCaseBuilder</code></a></li><li><a class="tocitem" href="../../how_to/parsing/">...parse data from Matpower, PSSE, or CSV files</a></li><li><a class="tocitem" href="../../how_to/add_ts_from_csvs/">...add time series data from CSVs</a></li><li><a class="tocitem" href="../../how_to/extend_tabular_parsing/">...customize the tabular data parser</a></li><li><a class="tocitem" href="../../how_to/get_buses/">...get all the buses in a system</a></li><li><a class="tocitem" href="../../how_to/get_available_generators/">...get the available generators in a system</a></li><li><a class="tocitem" href="../../how_to/add_cost_curve/">...add an Operating Cost</a></li><li><a class="tocitem" href="../../how_to/market_bid_cost/">...add a market bid</a></li><li><a class="tocitem" href="../../how_to/adding_additional_fields/">...add additional data to a component</a></li><li><a class="tocitem" href="../../how_to/add_new_types/">...add a new Type</a></li><li><a class="tocitem" href="../../how_to/improve_ts_performance/">...improve performance with time series data</a></li><li><a class="tocitem" href="../../how_to/serialize_data/">...serialize data to a JSON</a></li><li><a class="tocitem" href="../../how_to/reduce_repl_printing/">...reduce REPL printing</a></li><li><a class="tocitem" href="../../how_to/migrating_to_psy4/">...migrate from version 3.0 to 4.0</a></li></ul></li><li><span class="tocitem">Explanation</span><ul><li><a class="tocitem" href="../../explanation/system/">System</a></li><li><a class="tocitem" href="../../explanation/type_structure/">Type Structure</a></li><li><a class="tocitem" href="../../explanation/per_unit/">Per-unit Conventions</a></li><li><a class="tocitem" href="../../explanation/time_series/">Time Series Data</a></li><li><a class="tocitem" href="../../explanation/example_dynamic_data/">Dynamic Devices</a></li></ul></li><li><span class="tocitem">Model Library</span><ul><li><input class="collapse-toggle" id="menuitem-5-1" type="checkbox"/><label class="tocitem" for="menuitem-5-1"><span class="docs-label">DynamicInverterComponent</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../model_library/generated_Converter/">Converter</a></li><li><a class="tocitem" href="../../model_library/generated_DCSource/">DCSource</a></li><li><a class="tocitem" href="../../model_library/generated_Filter/">Filter</a></li><li><a class="tocitem" href="../../model_library/generated_FrequencyEstimator/">FrequencyEstimator</a></li><li><a class="tocitem" href="../../model_library/generated_InnerControl/">InnerControl</a></li><li><a class="tocitem" href="../../model_library/generated_OutputCurrentLimiter/">OutputCurrentLimiter</a></li><li><a class="tocitem" href="../../model_library/outer_control/">OuterControl</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5-2" type="checkbox"/><label class="tocitem" for="menuitem-5-2"><span class="docs-label">StaticInjection</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../model_library/generated_FixedAdmittance/">FixedAdmittance</a></li><li><a class="tocitem" href="../../model_library/generated_InterruptiblePowerLoad/">InterruptiblePowerLoad</a></li><li><a class="tocitem" href="../../model_library/generated_ExponentialLoad/">ExponentialLoad</a></li><li><a class="tocitem" href="../../model_library/generated_PowerLoad/">PowerLoad</a></li><li><a class="tocitem" href="../../model_library/generated_StandardLoad/">StandardLoad</a></li><li><a class="tocitem" href="../../model_library/generated_SwitchedAdmittance/">SwitchedAdmittance</a></li><li><a class="tocitem" href="../../model_library/generated_HydroDispatch/">HydroDispatch</a></li><li><a class="tocitem" href="../../model_library/generated_HydroEnergyReservoir/">HydroEnergyReservoir</a></li><li><a class="tocitem" href="../../model_library/generated_HydroPumpedStorage/">HydroPumpedStorage</a></li><li><a class="tocitem" href="../../model_library/generated_RenewableDispatch/">RenewableDispatch</a></li><li><a class="tocitem" href="../../model_library/generated_RenewableNonDispatch/">RenewableNonDispatch</a></li><li><a class="tocitem" href="../../model_library/generated_ThermalMultiStart/">ThermalMultiStart</a></li><li><a class="tocitem" href="../../model_library/generated_ThermalStandard/">ThermalStandard</a></li><li><a class="tocitem" href="../../model_library/generated_InterconnectingConverter/">InterconnectingConverter</a></li><li><a class="tocitem" href="../../model_library/generated_Source/">Source</a></li><li><a class="tocitem" href="../../model_library/generated_EnergyReservoirStorage/">EnergyReservoirStorage</a></li><li><a class="tocitem" href="../../model_library/hybrid_system/">HybridSystem</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5-3" type="checkbox"/><label class="tocitem" for="menuitem-5-3"><span class="docs-label">Operating Costs</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../model_library/thermal_generation_cost/">ThermalGenerationCost</a></li><li><a class="tocitem" href="../../model_library/hydro_generation_cost/">HydroGenerationCost</a></li><li><a class="tocitem" href="../../model_library/renewable_generation_cost/">RenewableGenerationCost</a></li><li><a class="tocitem" href="../../model_library/storage_cost/">StorageCost</a></li><li><a class="tocitem" href="../../model_library/load_cost/">LoadCost</a></li><li><a class="tocitem" href="../../model_library/market_bid_cost/">MarketBidCost</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5-4" type="checkbox"/><label class="tocitem" for="menuitem-5-4"><span class="docs-label">Topology</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../model_library/generated_Area/">Area</a></li><li><a class="tocitem" href="../../model_library/generated_LoadZone/">LoadZone</a></li><li><a class="tocitem" href="../../model_library/generated_Arc/">Arc</a></li><li><a class="tocitem" href="../../model_library/generated_ACBus/">ACBus</a></li><li><a class="tocitem" href="../../model_library/generated_DCBus/">DCBus</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5-5" type="checkbox"/><label class="tocitem" for="menuitem-5-5"><span class="docs-label">Cost Curves</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../model_library/cost_curves/">Variable Cost Curves</a></li><li><a class="tocitem" href="../../model_library/value_curves/">Value Curves</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5-6" type="checkbox"/><label class="tocitem" for="menuitem-5-6"><span class="docs-label">DynamicInjection</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../model_library/dynamic_inverter/">Dynamic Inverter</a></li><li><a class="tocitem" href="../../model_library/dynamic_generator/">Dynamic Generator</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5-7" type="checkbox"/><label class="tocitem" for="menuitem-5-7"><span class="docs-label">Service</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../model_library/generated_AGC/">AGC</a></li><li><a class="tocitem" href="../../model_library/generated_ConstantReserveNonSpinning/">ConstantReserveNonSpinning</a></li><li><a class="tocitem" href="../../model_library/generated_VariableReserveNonSpinning/">VariableReserveNonSpinning</a></li><li><a class="tocitem" href="../../model_library/generated_TransmissionInterface/">TransmissionInterface</a></li><li><a class="tocitem" href="../../model_library/reserves/">Reserves</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5-8" type="checkbox"/><label class="tocitem" for="menuitem-5-8"><span class="docs-label">Branch</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../model_library/generated_Line/">Line</a></li><li><a class="tocitem" href="../../model_library/generated_MonitoredLine/">MonitoredLine</a></li><li><a class="tocitem" href="../../model_library/generated_PhaseShiftingTransformer/">PhaseShiftingTransformer</a></li><li><a class="tocitem" href="../../model_library/generated_TapTransformer/">TapTransformer</a></li><li><a class="tocitem" href="../../model_library/generated_Transformer2W/">Transformer2W</a></li><li><a class="tocitem" href="../../model_library/generated_TwoTerminalHVDCLine/">TwoTerminalHVDCLine</a></li><li><a class="tocitem" href="../../model_library/generated_TwoTerminalVSCDCLine/">TwoTerminalVSCDCLine</a></li><li><a class="tocitem" href="../../model_library/generated_AreaInterchange/">AreaInterchange</a></li><li><a class="tocitem" href="../../model_library/generated_TModelHVDCLine/">TModelHVDCLine</a></li><li><a class="tocitem" href="../../model_library/dynamic_branch/">Dynamic Lines</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5-9" type="checkbox"/><label class="tocitem" for="menuitem-5-9"><span class="docs-label">DynamicGeneratorComponent</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../model_library/generated_AVR/">AVR</a></li><li><a class="tocitem" href="../../model_library/generated_Machine/">Machine</a></li><li><a class="tocitem" href="../../model_library/generated_PSS/">PSS</a></li><li><a class="tocitem" href="../../model_library/generated_Shaft/">Shaft</a></li><li><a class="tocitem" href="../../model_library/generated_TurbineGov/">TurbineGov</a></li></ul></li></ul></li><li><span class="tocitem">Reference</span><ul><li><a class="tocitem" href="../../api/public/">Public API</a></li><li><a class="tocitem" href="../../api/internal/">Internal API Reference</a></li><li><a class="tocitem" href="../../api/glossary/">Glossary and Acronyms</a></li><li><a class="tocitem" href="../../api/type_tree/">Type Hierarchy</a></li><li><a class="tocitem" href="../../api/valuecurve_options/"><code>ValueCurve</code> Options</a></li><li><a class="tocitem" href="../../api/enumerated_types/">Specifying the category of...</a></li><li><a class="tocitem" href="../../api/developer_guidelines/">Developer Guidelines</a></li><li><a class="tocitem" href="../../api/citation/">Citation</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Tutorials</a></li><li class="is-active"><a href>Create and Explore a Power <code>System</code></a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Create and Explore a Power <code>System</code></a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/NREL-Sienna/PowerSystems.jl/blob/main/docs/src/tutorials/creating_system.md" title="Edit on GitHub"><span class="docs-icon fab">ï</span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Create-and-Explore-a-Power-System"><a class="docs-heading-anchor" href="#Create-and-Explore-a-Power-System">Create and Explore a Power <code>System</code></a><a id="Create-and-Explore-a-Power-System-1"></a><a class="docs-heading-anchor-permalink" href="#Create-and-Explore-a-Power-System" title="Permalink"></a></h1><p>Welcome to PowerSystems.jl!</p><p>In this tutorial, we will create a power system and add some components to it, including some nodes, a transmission line, load, and both renewable and fossil fuel generators. Then we will retrieve data from the system and explore the system settings.</p><h2 id="Setup"><a class="docs-heading-anchor" href="#Setup">Setup</a><a id="Setup-1"></a><a class="docs-heading-anchor-permalink" href="#Setup" title="Permalink"></a></h2><p>To get started, ensure you have followed the <a href="../../how_to/install/#install">installation instructions</a>.</p><p>Start Julia from the command line if you haven&#39;t already:</p><pre><code class="nohighlight hljs">$ julia</code></pre><p>Load the PowerSystems.jl package:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; using PowerSystems</code><code class="nohighlight hljs ansi" style="display:block;"></code></pre><h2 id="Creating-a-Power-System"><a class="docs-heading-anchor" href="#Creating-a-Power-System">Creating a Power <code>System</code></a><a id="Creating-a-Power-System-1"></a><a class="docs-heading-anchor-permalink" href="#Creating-a-Power-System" title="Permalink"></a></h2><p>In PowerSystems.jl, data is held in a <a href="../../api/public/#PowerSystems.System"><code>System</code></a> that holds all of the individual components along with some metadata about the power system itself.</p><p>There are many ways to define a <code>System</code>, but let&#39;s start with an empty system. All we need to define is a base power of 100 MVA for <a href="../../explanation/per_unit/#per_unit">per-unitization</a>. </p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; sys = System(100.0)</code><code class="nohighlight hljs ansi" style="display:block;">System
âââââââââââââââââââââ¬ââââââââââââââ
â Property          â Value       â
âââââââââââââââââââââ¼ââââââââââââââ¤
â Name              â             â
â Description       â             â
â System Units Base â SYSTEM_BASE â
â Base Power        â 100.0       â
â Base Frequency    â 60.0        â
â Num Components    â 0           â
âââââââââââââââââââââ´ââââââââââââââ</code></pre><p>Notice that this system is a 60 Hz system with a base power of 100 MVA.</p><p>Now, let&#39;s add some components to our system.</p><h2 id="Adding-Buses"><a class="docs-heading-anchor" href="#Adding-Buses">Adding Buses</a><a id="Adding-Buses-1"></a><a class="docs-heading-anchor-permalink" href="#Adding-Buses" title="Permalink"></a></h2><p>We&#39;ll start by creating some buses. By referring to the documentation for <a href="../../model_library/generated_ACBus/#ACBus">ACBus</a>, notice that we need define some basic data, including the bus&#39;s unique identifier and name, base voltage, and whether it&#39;s a <a href="../../api/enumerated_types/#acbustypes_list">load, generator, or reference bus</a>. </p><p>Let&#39;s start with a reference bus:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; bus1 = ACBus(
               number = 1,
               name = &quot;bus1&quot;,
               bustype = ACBusTypes.REF,
               angle = 0.0,
               magnitude = 1.0,
               voltage_limits = (min = 0.9, max = 1.05),
               base_voltage = 230.0
               );</code><code class="nohighlight hljs ansi" style="display:block;"></code></pre><p>This bus is on a 230 kV AC transmission network, with an allowable voltage range of 0.9 to 1.05 p.u. We are assuming it is currently operating at 1.0 p.u. voltage and an angle of 0 radians. </p><p>Let&#39;s add this bus to our <code>System</code> with <code>add_component!</code>:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; add_component!(sys, bus1)</code><code class="nohighlight hljs ansi" style="display:block;"></code></pre><p>We can see the impact this has on the <code>System</code> simply by printing it:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; sys</code><code class="nohighlight hljs ansi" style="display:block;">System
âââââââââââââââââââââ¬ââââââââââââââ
â Property          â Value       â
âââââââââââââââââââââ¼ââââââââââââââ¤
â Name              â             â
â Description       â             â
â System Units Base â SYSTEM_BASE â
â Base Power        â 100.0       â
â Base Frequency    â 60.0        â
â Num Components    â 1           â
âââââââââââââââââââââ´ââââââââââââââ

Static Components
âââââââââ¬ââââââââ
â Type  â Count â
âââââââââ¼ââââââââ¤
â ACBus â 1     â
âââââââââ´ââââââââ</code></pre><p>Notice that <code>System</code> now shows a summary of components in the system.</p><p>Let&#39;s create a second bus:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; bus2 = ACBus(
               number = 2,
               name = &quot;bus2&quot;,
               bustype = ACBusTypes.PV,
               angle = 0.0,
               magnitude = 1.0,
               voltage_limits = (min = 0.9, max = 1.05),
               base_voltage = 230.0
               );</code><code class="nohighlight hljs ansi" style="display:block;"></code></pre><p>Notice that we&#39;ve defined this bus with <a href="../../api/enumerated_types/#acbustypes_list">power and voltage variables</a>, suitable for power flow studies.</p><p>Let&#39;s also add this to our <code>System</code>:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; add_component!(sys, bus2)</code><code class="nohighlight hljs ansi" style="display:block;"></code></pre><p>Now, let&#39;s use <a href="../../api/public/#PowerSystems.show_components"><code>show_components</code></a> to quickly see some basic information about the buses:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; show_components(sys, ACBus)</code><code class="nohighlight hljs ansi" style="display:block;">ACBus
ââââââââ
â name â
ââââââââ¤
â bus1 â
â bus2 â
ââââââââ</code></pre><h2 id="Adding-a-Transmission-Line"><a class="docs-heading-anchor" href="#Adding-a-Transmission-Line">Adding a Transmission Line</a><a id="Adding-a-Transmission-Line-1"></a><a class="docs-heading-anchor-permalink" href="#Adding-a-Transmission-Line" title="Permalink"></a></h2><p>Let&#39;s connect our buses. We&#39;ll add a transmission <a href="../../model_library/generated_Line/#PowerSystems.Line"><code>Line</code></a> between <code>bus1</code> and <code>bus2</code>. </p><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>When defining a line that isn&#39;t attached to a <code>System</code> yet, you must define the thermal rating of the transmission line in per-unit using the base power of the <code>System</code> you plan to connect it to â in this case, 100 MVA.</p></div></div><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; line = Line(
               name = &quot;line1&quot;,
               available = true,
               active_power_flow = 0.0,
               reactive_power_flow = 0.0,
               arc = Arc(from = bus1, to = bus2),
               r = 0.00281, # Per-unit
               x = 0.0281, # Per-unit
               b = (from = 0.00356, to = 0.00356), # Per-unit
               rating = 2.0, # Line rating of 200 MVA / System base of 100 MVA
               angle_limits = (min = -0.7, max = 0.7),
           );</code><code class="nohighlight hljs ansi" style="display:block;"></code></pre><p>Note that we also had to define an <a href="../../model_library/generated_Arc/#PowerSystems.Arc"><code>Arc</code></a> in the process to define the connection between the two buses.</p><p>Let&#39;s also add this to our <code>System</code>:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; add_component!(sys, line)</code><code class="nohighlight hljs ansi" style="display:block;"></code></pre><p>Finally, let&#39;s check our <code>System</code> summary to see all the network topology components we have added are attached:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; sys</code><code class="nohighlight hljs ansi" style="display:block;">System
âââââââââââââââââââââ¬ââââââââââââââ
â Property          â Value       â
âââââââââââââââââââââ¼ââââââââââââââ¤
â Name              â             â
â Description       â             â
â System Units Base â SYSTEM_BASE â
â Base Power        â 100.0       â
â Base Frequency    â 60.0        â
â Num Components    â 4           â
âââââââââââââââââââââ´ââââââââââââââ

Static Components
âââââââââ¬ââââââââ
â Type  â Count â
âââââââââ¼ââââââââ¤
â ACBus â 2     â
â Arc   â 1     â
â Line  â 1     â
âââââââââ´ââââââââ</code></pre><h2 id="Adding-Loads-and-Generators"><a class="docs-heading-anchor" href="#Adding-Loads-and-Generators">Adding Loads and Generators</a><a id="Adding-Loads-and-Generators-1"></a><a class="docs-heading-anchor-permalink" href="#Adding-Loads-and-Generators" title="Permalink"></a></h2><p>Now that our network topology is complete, we&#39;ll start adding components that <a href="../../api/glossary/#I">inject</a> or withdraw power from the network. </p><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>When you define components that aren&#39;t attached to a <code>System</code> yet, you must define all fields related to power (with units such as MW, MVA, MVAR, or MW/min) in per-unit using the <code>base_power</code> of the component.</p></div></div><p>We&#39;ll start with defining a 10 MW <a href="../../model_library/generated_PowerLoad/#PowerLoad">load</a> to <code>bus1</code>:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; load = PowerLoad(
               name = &quot;load1&quot;,
               available = true,
               bus = bus1,
               active_power = 0.0, # Per-unitized by device base_power
               reactive_power = 0.0, # Per-unitized by device base_power
               base_power = 10.0, # MVA
               max_active_power = 1.0, # 10 MW per-unitized by device base_power
               max_reactive_power = 0.0
               );</code><code class="nohighlight hljs ansi" style="display:block;"></code></pre><p>Notice that we defined the <code>max_active_power</code>, which is 10 MW, as 1.0 in per-unit using the <code>base_power</code> of 10 MVA. We&#39;ve also used the <code>bus1</code> component itself to define where this load is located in the network.</p><p>Now add the load to the system:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; add_component!(sys, load)</code><code class="nohighlight hljs ansi" style="display:block;"></code></pre><p>Finally, we&#39;ll add two generators: one renewable and one thermal.</p><p>We&#39;ll add a 5 MW solar power plant to <code>bus2</code>:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; solar = RenewableDispatch(
               name = &quot;solar1&quot;,
               available = true,
               bus = bus2,
               active_power = 0.0, # Per-unitized by device base_power
               reactive_power = 0.0, # Per-unitized by device base_power
               rating = 1.0, # 5 MW per-unitized by device base_power
               prime_mover_type = PrimeMovers.PVe,
               reactive_power_limits = (min=0.0, max=0.05), # 0 MVAR to 0.25 MVAR per-unitized by device base_power
               power_factor = 1.0,
               operation_cost = RenewableGenerationCost(nothing),
               base_power = 5.0 # MVA
               );</code><code class="nohighlight hljs ansi" style="display:block;"></code></pre><p>Note that we&#39;ve used a generic <a href="../../model_library/generated_RenewableDispatch/#RenewableDispatch">renewable generator</a> to model solar, but we can specify that it is solar through the <a href="../../api/enumerated_types/#pm_list">prime mover</a>. </p><p>Finally, we&#39;ll also add a 30 MW gas <a href="../../model_library/generated_ThermalStandard/#ThermalStandard">thermal generator</a>:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; gas = ThermalStandard(
               name = &quot;gas1&quot;,
               available = true,
               status = true,
               bus = bus2,
               active_power = 0.0, # Per-unitized by device base_power
               reactive_power = 0.0, # Per-unitized by device base_power
               rating = 1.0, # 30 MW per-unitized by device base_power
               active_power_limits = (min=0.2, max=1.0), # 6 MW to 30 MW per-unitized by device base_power
               reactive_power_limits = nothing, # Per-unitized by device base_power
               ramp_limits = (up=0.2, down=0.2), # 6 MW/min up or down, per-unitized by device base_power
               operation_cost = ThermalGenerationCost(nothing),
               base_power = 30.0, # MVA
               time_limits = (up=8.0, down=8.0), # Hours
               must_run = false,
               prime_mover_type = PrimeMovers.CC,
               fuel = ThermalFuels.NATURAL_GAS
               );</code><code class="nohighlight hljs ansi" style="display:block;"></code></pre><p>This time, let&#39;s add these components to our <code>System</code> using <a href="../../api/public/#PowerSystems.add_components!-Tuple{System, Any}"><code>add_components!</code></a> to add them both at the same time:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; add_components!(sys, [solar, gas])</code><code class="nohighlight hljs ansi" style="display:block;"></code></pre><h2 id="Explore-the-System-and-its-Components"><a class="docs-heading-anchor" href="#Explore-the-System-and-its-Components">Explore the System and its Components</a><a id="Explore-the-System-and-its-Components-1"></a><a class="docs-heading-anchor-permalink" href="#Explore-the-System-and-its-Components" title="Permalink"></a></h2><p>Congratulations! You have built a power system including buses, a transmission line, a load, and different types of generators. Now let&#39;s take a look around. </p><p>Remember that we can see a summary of our <code>System</code> using the print statement:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; sys</code><code class="nohighlight hljs ansi" style="display:block;">System
âââââââââââââââââââââ¬ââââââââââââââ
â Property          â Value       â
âââââââââââââââââââââ¼ââââââââââââââ¤
â Name              â             â
â Description       â             â
â System Units Base â SYSTEM_BASE â
â Base Power        â 100.0       â
â Base Frequency    â 60.0        â
â Num Components    â 7           â
âââââââââââââââââââââ´ââââââââââââââ

Static Components
âââââââââââââââââââââ¬ââââââââ
â Type              â Count â
âââââââââââââââââââââ¼ââââââââ¤
â ACBus             â 2     â
â Arc               â 1     â
â Line              â 1     â
â PowerLoad         â 1     â
â RenewableDispatch â 1     â
â ThermalStandard   â 1     â
âââââââââââââââââââââ´ââââââââ</code></pre><p>Now, let&#39;s double-check some of our data by retrieving it from the <code>System</code>. Let&#39;s use <a href="../../api/public/#PowerSystems.show_components"><code>show_components</code></a> again to get an overview of our renewable generators:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; show_components(sys, RenewableDispatch)</code><code class="nohighlight hljs ansi" style="display:block;">RenewableDispatch
ââââââââââ¬ââââââââââââ
â name   â available â
ââââââââââ¼ââââââââââââ¤
â solar1 â true      â
ââââââââââ´ââââââââââââ</code></pre><p>We just have the one renewable generator named <code>solar1</code>. Use <code>get_component</code> to retrieve it by name:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; retrieved_component = get_component(RenewableDispatch, sys, &quot;solar1&quot;);</code><code class="nohighlight hljs ansi" style="display:block;"></code></pre><p>Let&#39;s double-check what type of renewable generator this is using a <code>get_</code> function:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; get_prime_mover_type(retrieved_component)</code><code class="nohighlight hljs ansi" style="display:block;">PrimeMovers.PVe = 21</code></pre><p>Verify that this a <code>PVe</code>, or solar photovoltaic, generator.</p><p>Let&#39;s also use a <code>get_</code> function to double-check where this generator is connected in the transmission network:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; get_bus(retrieved_component)</code><code class="nohighlight hljs ansi" style="display:block;">ACBus: bus2:
   number: 2
   name: bus2
   bustype: ACBusTypes.PV = 2
   angle: 0.0
   magnitude: 1.0
   voltage_limits: (min = 0.9, max = 1.05)
   base_voltage: 230.0
   area: nothing
   load_zone: nothing
   ext: Dict{String, Any}()
   InfrastructureSystems.SystemUnitsSettings:
      base_value: 100.0
      unit_system: UnitSystem.SYSTEM_BASE = 0
   has_supplemental_attributes: false
   has_time_series: false</code></pre><p>See that the generator&#39;s bus is linked to the actual <code>bus2</code> component in our <code>System</code>.</p><p>These &quot;getter&quot; functions are available for all the data fields in a component.</p><div class="admonition is-success"><header class="admonition-header">Tip</header><div class="admonition-body"><p><strong>Always use the <code>get_*</code> functions to retrieve the data within a component.</strong> While in Julia a user can use <code>.</code> to access the fields of a component, we make no guarantees on the stability of field names and locations. We do however promise to keep the getter functions stable. PowerSystems.jl also does many internal data calculations that the getter functions will properly handle for you, as you&#39;ll see below.</p></div></div><h2 id="Changing-System-Per-Unit-Settings"><a class="docs-heading-anchor" href="#Changing-System-Per-Unit-Settings">Changing <code>System</code> Per-Unit Settings</a><a id="Changing-System-Per-Unit-Settings-1"></a><a class="docs-heading-anchor-permalink" href="#Changing-System-Per-Unit-Settings" title="Permalink"></a></h2><p>Now, let&#39;s use a getter function to look up the solar generator&#39;s <code>rating</code>:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; get_rating(retrieved_component)</code><code class="nohighlight hljs ansi" style="display:block;">0.05</code></pre><div class="admonition is-success"><header class="admonition-header">Important</header><div class="admonition-body"><p>When we defined the solar generator, we defined the rating as 1.0 per-unit with a device <code>base_power</code> of 5.0 MVA. Notice that the rating now reads 0.05. After we attached this component to our <code>System</code>, its power data is being returned to us in the <code>System</code>&#39;s units base.</p></div></div><p>Let&#39;s double-check the <code>System</code>&#39;s units base: </p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; get_units_base(sys)</code><code class="nohighlight hljs ansi" style="display:block;">&quot;SYSTEM_BASE&quot;</code></pre><p><code>SYSTEM_BASE</code> means all power-related (MW, MVA, MVAR, MW/min) component data in the <code>System</code>, except for each component&#39;s <code>base_power</code>, is per-unitized by the system base power for consistency. </p><p>Check the <code>System</code>&#39;s base_power again:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; get_base_power(sys)</code><code class="nohighlight hljs ansi" style="display:block;">100.0</code></pre><p>Notice that when we called <code>get_rating</code> above, the solar generator&#39;s rating, 5.0 MW, is being returned as 0.05 = (5 MVA)/(100 MVA) using the system base power.</p><p>Instead of using the <code>System</code> base power, let&#39;s view everything in MW or MVA â or what we call &quot;NATURAL_UNITS&quot; in PowerSystems.</p><p>Change the <code>System</code>&#39;s unit system:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; set_units_base_system!(sys, &quot;NATURAL_UNITS&quot;)</code><code class="nohighlight hljs ansi" style="display:block;">[ Info: Unit System changed to UnitSystem.NATURAL_UNITS = 2</code></pre><p>Now retrieve the solar generator&#39;s rating again:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; get_rating(retrieved_component)</code><code class="nohighlight hljs ansi" style="display:block;">5.0</code></pre><p>Notice that the value is now its &quot;natural&quot; value, 5.0 MVA.</p><p>Finally, let&#39;s change the <code>System</code>&#39;s unit system to the final option, &quot;DEVICE_BASE&quot;:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; set_units_base_system!(sys, &quot;DEVICE_BASE&quot;)</code><code class="nohighlight hljs ansi" style="display:block;">[ Info: Unit System changed to UnitSystem.DEVICE_BASE = 1</code></pre><p>And retrieve the solar generator&#39;s rating once more:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; get_rating(retrieved_component)</code><code class="nohighlight hljs ansi" style="display:block;">1.0</code></pre><p>See that now the data is now 1.0 (5.0 MVA per-unitized by the generator (i.e., the device&#39;s) <code>base_power</code> of 5.0 MVA), which is the format we used to originally define the device.   </p><p>Recall that if you ever need to check a <code>System</code>&#39;s settings, including the unit system being used by all the getter functions, you can always just print the <code>System</code>:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; sys</code><code class="nohighlight hljs ansi" style="display:block;">System
âââââââââââââââââââââ¬ââââââââââââââ
â Property          â Value       â
âââââââââââââââââââââ¼ââââââââââââââ¤
â Name              â             â
â Description       â             â
â System Units Base â DEVICE_BASE â
â Base Power        â 100.0       â
â Base Frequency    â 60.0        â
â Num Components    â 7           â
âââââââââââââââââââââ´ââââââââââââââ

Static Components
âââââââââââââââââââââ¬ââââââââ
â Type              â Count â
âââââââââââââââââââââ¼ââââââââ¤
â ACBus             â 2     â
â Arc               â 1     â
â Line              â 1     â
â PowerLoad         â 1     â
â RenewableDispatch â 1     â
â ThermalStandard   â 1     â
âââââââââââââââââââââ´ââââââââ</code></pre><p>See the units base is printed as one of the <code>System</code> properties.</p><h2 id="Next-Steps"><a class="docs-heading-anchor" href="#Next-Steps">Next Steps</a><a id="Next-Steps-1"></a><a class="docs-heading-anchor-permalink" href="#Next-Steps" title="Permalink"></a></h2><p>In this tutorial, you manually created a power <code>System</code>, added and then retrieved its components, and modified the <code>System</code> per-unit settings.</p><p>Next, you might want to:</p><ul><li><a href="../working_with_time_series/#tutorial_time_series">Add time series data to components in the <code>System</code></a></li><li><a href="../get_component_data/#get_components_tutorial">Learn more about how to retrieve components and their data from a <code>System</code></a></li><li><a href="../../how_to/parsing/#parsing">Import a <code>System</code> from an existing Matpower or PSSE file instead of creating it manually</a></li><li><a href="../../how_to/parsing/#table_data">Create your own <code>System</code> from .csv files instead of creating it manually</a></li><li><a href="../../explanation/per_unit/#per_unit">Read more to understand per-unitization in PowerSystems.jl</a></li></ul></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../">Â« Welcome Page</a><a class="docs-footer-nextpage" href="../working_with_time_series/">Working with Time Series Â»</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Monday 26 August 2024 23:46">Monday 26 August 2024</span>. Using Julia version 1.10.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
