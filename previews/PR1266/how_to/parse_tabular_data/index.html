<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>...parse tabular data from .csv files · PowerSystems.jl</title><meta name="title" content="...parse tabular data from .csv files · PowerSystems.jl"/><meta property="og:title" content="...parse tabular data from .csv files · PowerSystems.jl"/><meta property="twitter:title" content="...parse tabular data from .csv files · PowerSystems.jl"/><meta name="description" content="Documentation for PowerSystems.jl."/><meta property="og:description" content="Documentation for PowerSystems.jl."/><meta property="twitter:description" content="Documentation for PowerSystems.jl."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.png" alt="PowerSystems.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">PowerSystems.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Welcome Page</a></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../../tutorials/creating_system/">Create and Explore a Power <code>System</code></a></li><li><a class="tocitem" href="../../tutorials/manipulating_datasets/">Manipulating Data Sets</a></li><li><a class="tocitem" href="../../tutorials/working_with_time_series/">Working with Time Series</a></li><li><a class="tocitem" href="../../tutorials/add_dynamic_data/">Adding Data for Dynamic Simulations</a></li></ul></li><li><span class="tocitem">How to...</span><ul><li><a class="tocitem" href="../install/">...install PowerSystems.jl</a></li><li><a class="tocitem" href="../powersystembuilder/">...load a <code>system</code> from <code>PowerSystemCaseBuilder</code></a></li><li><a class="tocitem" href="../parse_matpower_psse/">...parse data from MATPOWER or PSS/e files</a></li><li><a class="tocitem" href="../parse_dynamic_data/">...parse PSS/e dynamic data</a></li><li class="is-active"><a class="tocitem" href>...parse tabular data from .csv files</a><ul class="internal"><li><a class="tocitem" href="#Categories"><span>Categories</span></a></li><li><a class="tocitem" href="#Customization"><span>Customization</span></a></li><li><a class="tocitem" href="#csv_data"><span>CSV Data Configurations</span></a></li><li><a class="tocitem" href="#csv_per_unit"><span>Per-unit conversion</span></a></li><li><a class="tocitem" href="#Extending-the-Tabular-Data-Parser"><span>Extending the Tabular Data Parser</span></a></li></ul></li><li><a class="tocitem" href="../parse_ts_from_csvs/">...parse time series data from .csv files</a></li><li><a class="tocitem" href="../add_component_natural_units/">...add a component using natural units (MW)</a></li><li><a class="tocitem" href="../get_buses/">...get all the buses in a system</a></li><li><a class="tocitem" href="../get_available_generators/">...get the available generators in a system</a></li><li><a class="tocitem" href="../add_cost_curve/">...add an Operating Cost</a></li><li><a class="tocitem" href="../market_bid_cost/">...add a market bid</a></li><li><a class="tocitem" href="../adding_additional_fields/">...add additional data to a component</a></li><li><a class="tocitem" href="../add_new_types/">...customize or add a new Type</a></li><li><a class="tocitem" href="../improve_ts_performance/">...improve performance with time series data</a></li><li><a class="tocitem" href="../serialize_data/">...write and read data with a JSON</a></li><li><a class="tocitem" href="../reduce_repl_printing/">...reduce REPL printing</a></li><li><a class="tocitem" href="../migrating_to_psy4/">...migrate from version 3.0 to 4.0</a></li></ul></li><li><span class="tocitem">Explanation</span><ul><li><a class="tocitem" href="../../explanation/system/">System</a></li><li><a class="tocitem" href="../../explanation/type_structure/">Type Structure</a></li><li><a class="tocitem" href="../../explanation/per_unit/">Per-unit Conventions</a></li><li><a class="tocitem" href="../../explanation/time_series/">Time Series Data</a></li><li><a class="tocitem" href="../../explanation/dynamic_data/">Dynamic Devices</a></li></ul></li><li><span class="tocitem">Model Library</span><ul><li><input class="collapse-toggle" id="menuitem-5-1" type="checkbox"/><label class="tocitem" for="menuitem-5-1"><span class="docs-label">DynamicInverterComponent</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../model_library/generated_Converter/">Converter</a></li><li><a class="tocitem" href="../../model_library/generated_DCSource/">DCSource</a></li><li><a class="tocitem" href="../../model_library/generated_Filter/">Filter</a></li><li><a class="tocitem" href="../../model_library/generated_FrequencyEstimator/">FrequencyEstimator</a></li><li><a class="tocitem" href="../../model_library/generated_InnerControl/">InnerControl</a></li><li><a class="tocitem" href="../../model_library/generated_OutputCurrentLimiter/">OutputCurrentLimiter</a></li><li><a class="tocitem" href="../../model_library/outer_control/">OuterControl</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5-2" type="checkbox"/><label class="tocitem" for="menuitem-5-2"><span class="docs-label">StaticInjection</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../model_library/generated_FixedAdmittance/">FixedAdmittance</a></li><li><a class="tocitem" href="../../model_library/generated_InterruptiblePowerLoad/">InterruptiblePowerLoad</a></li><li><a class="tocitem" href="../../model_library/generated_ExponentialLoad/">ExponentialLoad</a></li><li><a class="tocitem" href="../../model_library/generated_PowerLoad/">PowerLoad</a></li><li><a class="tocitem" href="../../model_library/generated_StandardLoad/">StandardLoad</a></li><li><a class="tocitem" href="../../model_library/generated_SwitchedAdmittance/">SwitchedAdmittance</a></li><li><a class="tocitem" href="../../model_library/generated_HydroDispatch/">HydroDispatch</a></li><li><a class="tocitem" href="../../model_library/generated_HydroEnergyReservoir/">HydroEnergyReservoir</a></li><li><a class="tocitem" href="../../model_library/generated_HydroPumpedStorage/">HydroPumpedStorage</a></li><li><a class="tocitem" href="../../model_library/generated_RenewableDispatch/">RenewableDispatch</a></li><li><a class="tocitem" href="../../model_library/generated_RenewableNonDispatch/">RenewableNonDispatch</a></li><li><a class="tocitem" href="../../model_library/generated_ThermalMultiStart/">ThermalMultiStart</a></li><li><a class="tocitem" href="../../model_library/generated_ThermalStandard/">ThermalStandard</a></li><li><a class="tocitem" href="../../model_library/generated_InterconnectingConverter/">InterconnectingConverter</a></li><li><a class="tocitem" href="../../model_library/generated_Source/">Source</a></li><li><a class="tocitem" href="../../model_library/generated_EnergyReservoirStorage/">EnergyReservoirStorage</a></li><li><a class="tocitem" href="../../model_library/hybrid_system/">HybridSystem</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5-3" type="checkbox"/><label class="tocitem" for="menuitem-5-3"><span class="docs-label">Operating Costs</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../model_library/thermal_generation_cost/">ThermalGenerationCost</a></li><li><a class="tocitem" href="../../model_library/hydro_generation_cost/">HydroGenerationCost</a></li><li><a class="tocitem" href="../../model_library/renewable_generation_cost/">RenewableGenerationCost</a></li><li><a class="tocitem" href="../../model_library/storage_cost/">StorageCost</a></li><li><a class="tocitem" href="../../model_library/load_cost/">LoadCost</a></li><li><a class="tocitem" href="../../model_library/market_bid_cost/">MarketBidCost</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5-4" type="checkbox"/><label class="tocitem" for="menuitem-5-4"><span class="docs-label">Topology</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../model_library/generated_Area/">Area</a></li><li><a class="tocitem" href="../../model_library/generated_LoadZone/">LoadZone</a></li><li><a class="tocitem" href="../../model_library/generated_Arc/">Arc</a></li><li><a class="tocitem" href="../../model_library/generated_ACBus/">ACBus</a></li><li><a class="tocitem" href="../../model_library/generated_DCBus/">DCBus</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5-5" type="checkbox"/><label class="tocitem" for="menuitem-5-5"><span class="docs-label">DynamicInjection</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../model_library/generated_ActiveConstantPowerLoad/">ActiveConstantPowerLoad</a></li><li><a class="tocitem" href="../../model_library/generated_AggregateDistributedGenerationA/">AggregateDistributedGenerationA</a></li><li><a class="tocitem" href="../../model_library/generated_CSVGN1/">CSVGN1</a></li><li><a class="tocitem" href="../../model_library/generated_DynamicExponentialLoad/">DynamicExponentialLoad</a></li><li><a class="tocitem" href="../../model_library/generated_GenericDER/">GenericDER</a></li><li><a class="tocitem" href="../../model_library/generated_PeriodicVariableSource/">PeriodicVariableSource</a></li><li><a class="tocitem" href="../../model_library/generated_SimplifiedSingleCageInductionMachine/">SimplifiedSingleCageInductionMachine</a></li><li><a class="tocitem" href="../../model_library/generated_SingleCageInductionMachine/">SingleCageInductionMachine</a></li><li><a class="tocitem" href="../../model_library/dynamic_inverter/">Dynamic Inverter</a></li><li><a class="tocitem" href="../../model_library/dynamic_generator/">Dynamic Generator</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5-6" type="checkbox"/><label class="tocitem" for="menuitem-5-6"><span class="docs-label">Service</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../model_library/generated_AGC/">AGC</a></li><li><a class="tocitem" href="../../model_library/generated_ConstantReserveNonSpinning/">ConstantReserveNonSpinning</a></li><li><a class="tocitem" href="../../model_library/generated_VariableReserveNonSpinning/">VariableReserveNonSpinning</a></li><li><a class="tocitem" href="../../model_library/generated_TransmissionInterface/">TransmissionInterface</a></li><li><a class="tocitem" href="../../model_library/reserves/">Reserves</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5-7" type="checkbox"/><label class="tocitem" for="menuitem-5-7"><span class="docs-label">Branch</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../model_library/generated_Line/">Line</a></li><li><a class="tocitem" href="../../model_library/generated_MonitoredLine/">MonitoredLine</a></li><li><a class="tocitem" href="../../model_library/generated_PhaseShiftingTransformer/">PhaseShiftingTransformer</a></li><li><a class="tocitem" href="../../model_library/generated_TapTransformer/">TapTransformer</a></li><li><a class="tocitem" href="../../model_library/generated_Transformer2W/">Transformer2W</a></li><li><a class="tocitem" href="../../model_library/generated_TwoTerminalHVDCLine/">TwoTerminalHVDCLine</a></li><li><a class="tocitem" href="../../model_library/generated_TwoTerminalVSCDCLine/">TwoTerminalVSCDCLine</a></li><li><a class="tocitem" href="../../model_library/generated_AreaInterchange/">AreaInterchange</a></li><li><a class="tocitem" href="../../model_library/generated_TModelHVDCLine/">TModelHVDCLine</a></li><li><a class="tocitem" href="../../model_library/dynamic_branch/">Dynamic Lines</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5-8" type="checkbox"/><label class="tocitem" for="menuitem-5-8"><span class="docs-label">DynamicGeneratorComponent</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../model_library/generated_AVR/">AVR</a></li><li><a class="tocitem" href="../../model_library/generated_Machine/">Machine</a></li><li><a class="tocitem" href="../../model_library/generated_PSS/">PSS</a></li><li><a class="tocitem" href="../../model_library/generated_Shaft/">Shaft</a></li><li><a class="tocitem" href="../../model_library/generated_TurbineGov/">TurbineGov</a></li></ul></li></ul></li><li><span class="tocitem">Reference</span><ul><li><a class="tocitem" href="../../api/public/">Public API</a></li><li><a class="tocitem" href="../../api/glossary/">Glossary and Acronyms</a></li><li><a class="tocitem" href="../../api/type_tree/">Type Tree</a></li><li><a class="tocitem" href="../../api/valuecurve_options/"><code>ValueCurve</code> Options</a></li><li><a class="tocitem" href="../../api/enumerated_types/">Specifying the category of...</a></li><li><a class="tocitem" href="../../api/citation/">Citation</a></li><li><input class="collapse-toggle" id="menuitem-6-7" type="checkbox"/><label class="tocitem" for="menuitem-6-7"><span class="docs-label">Developers</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../api/developer_guidelines/">Developer Guidelines</a></li><li><a class="tocitem" href="../../api/internal/">Internals</a></li></ul></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">How to...</a></li><li class="is-active"><a href>...parse tabular data from .csv files</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>...parse tabular data from .csv files</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/NREL-Sienna/PowerSystems.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/NREL-Sienna/PowerSystems.jl/blob/main/docs/src/how_to/parse_tabular_data.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="table_data"><a class="docs-heading-anchor" href="#table_data">Parse Tabular Data from .csv Files</a><a id="table_data-1"></a><a class="docs-heading-anchor-permalink" href="#table_data" title="Permalink"></a></h1><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>This parser will be deprecated sometime in the fall of 2024. <code>PowerSystems.jl</code> will be moving to a database solution for handling data. There are plans to eventually include utility functions to translate from .csv files to the database, but there will probably be a gap in support. <strong>Users are recommended to write their own custom Julia code to import data from their unique data formats, rather than relying on this parsing code.</strong></p></div></div><p>This parser, called the tabular data parser, is a custom format that allows users to define power system component data by category and column with custom names, types, and units.</p><h2 id="Categories"><a class="docs-heading-anchor" href="#Categories">Categories</a><a id="Categories-1"></a><a class="docs-heading-anchor-permalink" href="#Categories" title="Permalink"></a></h2><p>Components for each category must be defined in their own CSV file. The following categories are currently supported:</p><ul><li><p>branch.csv</p></li><li><p>bus.csv (required)</p><ul><li>columns specifying <code>area</code> and <code>zone</code> will create a corresponding set of <code>Area</code> and <code>LoadZone</code> objects.</li><li>columns specifying <code>max_active_power</code> or <code>max_reactive_power</code> will create <code>PowerLoad</code> objects when nonzero values are encountered and will contribute to the <code>peak_active_power</code> and <code>peak_reactive_power</code> values for the corresponding <code>LoadZone</code> object.</li></ul></li><li><p>dc_branch.csv</p></li><li><p>gen.csv</p></li><li><p>load.csv</p></li><li><p>reserves.csv</p></li><li><p>storage.csv</p></li></ul><p>These must reside in the directory passed when constructing PowerSystemTableData.</p><h2 id="Customization"><a class="docs-heading-anchor" href="#Customization">Customization</a><a id="Customization-1"></a><a class="docs-heading-anchor-permalink" href="#Customization" title="Permalink"></a></h2><p>The tabular data parser in <code>PowerSystems.jl</code> can be customized to read a variety of datasets by configuring:</p><ul><li><a href="#csv_genmap">which type of generator (<code>&lt;:Generator</code>) to create based on the fuel and prime mover specifications</a></li><li><a href="#csv_columns">property names</a>, <a href="#csv_units">units</a>, and <a href="#csv_per_unit">per units conversions</a> in *.csv files</li></ul><p>Here is an example of how to construct a System with all customizations listed in this section:</p><pre><code class="language-julia hljs">data_dir = &quot;/data/my-data-dir&quot;
base_power = 100.0
descriptors = &quot;./user_descriptors.yaml&quot;
timeseries_metadata_file = &quot;./timeseries_pointers.json&quot;
generator_mapping_file = &quot;./generator_mapping.yaml&quot;
data = PowerSystemTableData(
    data_dir,
    base_power,
    descriptors;
    timeseries_metadata_file = timeseries_metadata_file,
    generator_mapping_file = generator_mapping_file,
)
sys = System(data; time_series_in_memory = true)</code></pre><p>Examples configuration files can be found in the <a href="https://github.com/GridMod/RTS-GMLC/">RTS-GMLC</a> repo:</p><ul><li><a href="https://github.com/GridMod/RTS-GMLC/blob/master/RTS_Data/FormattedData/SIIP/user_descriptors.yaml">user_descriptors.yaml</a></li><li><a href="https://github.com/GridMod/RTS-GMLC/blob/master/RTS_Data/FormattedData/SIIP/generator_mapping.yaml">generator_mapping.yaml</a></li></ul><h2 id="csv_data"><a class="docs-heading-anchor" href="#csv_data">CSV Data Configurations</a><a id="csv_data-1"></a><a class="docs-heading-anchor-permalink" href="#csv_data" title="Permalink"></a></h2><h3 id="csv_genmap"><a class="docs-heading-anchor" href="#csv_genmap">Custom construction of generators</a><a id="csv_genmap-1"></a><a class="docs-heading-anchor-permalink" href="#csv_genmap" title="Permalink"></a></h3><p><code>PowerSystems</code> supports custom construction of subtypes of the abstract type Generator based on <code>fuel</code> and <code>type</code>. The parsing code detects these fields in the raw data and then constructs the concrete type listed in the passed generator mapping file. The default file is <code>src/parsers/generator_mapping.yaml</code>. You can override this behavior by specifying your own file when constructing <code>PowerSystemTableData</code>.</p><h3 id="csv_columns"><a class="docs-heading-anchor" href="#csv_columns">Column names</a><a id="csv_columns-1"></a><a class="docs-heading-anchor-permalink" href="#csv_columns" title="Permalink"></a></h3><p><code>PowerSystems</code> provides am input mapping capability that allows you to keep your own column names.</p><p>For example, when parsing raw data for a generator the code expects a column called <code>name</code>. If the raw data instead defines that column as <code>GEN UID</code> then you can change the <code>custom_name</code> field under the <code>generator</code> category to <code>GEN UID</code> in your YAML file.</p><p>To enable the parsing of a custom set of csv files, you can generate a configuration file (such as <code>user_descriptors.yaml</code>) from the defaults, which are stored in <code>src/descriptors/power_system_inputs.json</code>.</p><pre><code class="language-python hljs">python ./bin/generate_config_file.py ./user_descriptors.yaml</code></pre><p>Next, edit this file with your customizations.</p><p>Note that the user-specific customizations are stored in YAML rather than JSON to allow for easier editing. The next few sections describe changes you can make to this YAML file.  Do not edit the default JSON file.</p><h2 id="csv_per_unit"><a class="docs-heading-anchor" href="#csv_per_unit">Per-unit conversion</a><a id="csv_per_unit-1"></a><a class="docs-heading-anchor-permalink" href="#csv_per_unit" title="Permalink"></a></h2><p>For more info on the per-unit conventions in <code>PowerSystems.jl</code>, refer to the <a href="../../explanation/per_unit/#per_unit">per-unit section of the system documentation</a>.</p><p><code>PowerSystems</code> defines whether it expects a column value to be per-unit system base, per-unit device base, or natural units in <code>power_system_inputs.json</code>. If it expects a per-unit convention that differs from your values then you can set the <code>unit_system</code> in <code>user_descriptors.yaml</code> and <code>PowerSystems</code> will automatically convert the values. For example, if you have a <code>max_active_power</code> value stored in natural units (MW), but <code>power_system_inputs.json</code> specifies <code>unit_system: device_base</code>, you can enter <code>unit_system: natural_units</code> in <code>user_descriptors.yaml</code> and <code>PowerSystems</code> will divide the value by the value of the corresponding entry in the column identified by the <code>base_reference</code> field in <code>power_system_inputs.json</code>. You can also override the <code>base_reference</code> setting by adding <code>base_reference: My Column</code> to make device base per-unit conversion by dividing the value by the entry in <code>My Column</code>. System base per-unit conversions always divide the value by the system <code>base_power</code> value instantiated when constructing a <code>System</code>.</p><h3 id="csv_units"><a class="docs-heading-anchor" href="#csv_units">Unit conversion</a><a id="csv_units-1"></a><a class="docs-heading-anchor-permalink" href="#csv_units" title="Permalink"></a></h3><p><code>PowerSystems</code> provides a limited set of unit conversions. For example, if <code>power_system_inputs.json</code> indicates that a value&#39;s unit is degrees but your values are in radians then you can set <code>unit: radian</code> in your YAML file. Other valid <code>unit</code> entries include <code>GW</code>, <code>GWh</code>, <code>MW</code>, <code>MWh</code>, <code>kW</code>, and <code>kWh</code>.</p><h2 id="Extending-the-Tabular-Data-Parser"><a class="docs-heading-anchor" href="#Extending-the-Tabular-Data-Parser">Extending the Tabular Data Parser</a><a id="Extending-the-Tabular-Data-Parser-1"></a><a class="docs-heading-anchor-permalink" href="#Extending-the-Tabular-Data-Parser" title="Permalink"></a></h2><p>This section describes how developers should read columns from raw data files, and assumes you are familiar with the sections above.</p><p>The main point is that you should not read individual hard-coded column names from DataFrames. The parsing code includes mapping functionality that allows you to use PowerSystems-standard names while letting the users define their own custom names.</p><h3 id="Procedure"><a class="docs-heading-anchor" href="#Procedure">Procedure</a><a id="Procedure-1"></a><a class="docs-heading-anchor-permalink" href="#Procedure" title="Permalink"></a></h3><ol><li><p>Add an entry to the array of parameters for your category in <code>src/descriptors/power_system_inputs.json</code> according to the following:</p><ol><li>Use <code>snake_case</code> for the name field.</li><li>The fields <code>name</code> and <code>description</code> are required.</li><li>Try to use a name that is generic and not specific to one dataset.</li><li>It is recommended that you define <code>unit</code>.</li><li>If PowerSystems expects the value to be per-unit then you must specify <code>system_per_unit=true</code>.</li></ol></li><li><p>PowerSystems has two commonly-used datasets with customized user config files: <a href="https://github.com/NREL/PowerSystemsTestData/blob/main/RTS_GMLC/user_descriptors.yaml">PowerSystemsTestData</a> and <a href="https://github.com/GridMod/RTS-GMLC/blob/master/RTS_Data/FormattedData/SIIP/user_descriptors.yaml">RTS_GMLC</a>. Update both of these files and submit pull requests.</p></li><li><p>Parse the raw data like in this example:</p></li></ol><pre><code class="language-julia hljs">function demo_bus_csv_parser!(data::PowerSystemTableData)
    for bus in iterate_rows(data, BUS::InputCategory)
        @show bus.name, bus.max_active_power, bus.max_reactive_power
    end
end</code></pre><p><code>iterate_rows</code> returns a NamedTuple where each <code>name</code> defined in <code>src/descriptors/power_system_inputs.json</code> is a field.</p><h3 id="See-also:"><a class="docs-heading-anchor" href="#See-also:">See also:</a><a id="See-also:-1"></a><a class="docs-heading-anchor-permalink" href="#See-also:" title="Permalink"></a></h3><ul><li>Parsing <a href="../parse_matpower_psse/#pm_data">Matpower or PSS/e RAW Files</a></li><li>Parsing <a href="../parse_dynamic_data/#dyr_data">PSS/e DYR Files</a></li><li>Parsing <a href="../parse_ts_from_csvs/#parsing_time_series">time series</a></li></ul></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../parse_dynamic_data/">« ...parse PSS/e dynamic data</a><a class="docs-footer-nextpage" href="../parse_ts_from_csvs/">...parse time series data from .csv files »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.8.0 on <span class="colophon-date" title="Tuesday 28 January 2025 18:09">Tuesday 28 January 2025</span>. Using Julia version 1.11.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
